"use strict";(self.webpackChunkcodepainter=self.webpackChunkcodepainter||[]).push([[3092],{28047:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>s,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>c,toc:()=>d});var t=r(74848),o=r(28453);const i={title:"0x7.\u5bb6\u5ead\u670d\u52a1\u5668\u6298\u817e\u8bb0|\u670d\u52a1\u642d\u5efa|Portainer",date:new Date("2022-10-26T02:01:18.000Z"),slug:"old-computer-adventures/Portainer",categories:["\u73af\u5883\u7ba1\u7406","\u5bb6\u7528\u670d\u52a1\u5668\u6298\u817e\u8bb0"]},a=void 0,c={permalink:"/blog/old-computer-adventures/Portainer",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/01.\u5bb6\u7528\u670d\u52a1\u5668\u6298\u817e\u8bb0/07.\u670d\u52a1\u642d\u5efa-Portainer.md",source:"@site/blog/01.\u5bb6\u7528\u670d\u52a1\u5668\u6298\u817e\u8bb0/07.\u670d\u52a1\u642d\u5efa-Portainer.md",title:"0x7.\u5bb6\u5ead\u670d\u52a1\u5668\u6298\u817e\u8bb0|\u670d\u52a1\u642d\u5efa|Portainer",description:"\u7ee7\u4e0a\u6587\u63d0\u53ca\u7684K8S\u5bb9\u5668\u7ba1\u7406\u5e73\u53f0\uff0cPortainer\u662f\u4e00\u4e2a\u9002\u5408\u672c\u5730\u90e8\u7f72\u7684\u8f7b\u91cf\u5316\u7684Docker\u53ef\u89c6\u5316\u7ba1\u7406\u5e73\u53f0\uff0c\u53ef\u4ee5\u8ba9\u4f60\u8f7b\u677e\u5730\u7ba1\u7406\u4f60\u7684Docker\u5bb9\u5668\u3002",date:"2022-10-26T02:01:18.000Z",tags:[],readingTime:1.985,hasTruncateMarker:!0,authors:[],frontMatter:{title:"0x7.\u5bb6\u5ead\u670d\u52a1\u5668\u6298\u817e\u8bb0|\u670d\u52a1\u642d\u5efa|Portainer",date:"2022-10-26T02:01:18.000Z",slug:"old-computer-adventures/Portainer",categories:["\u73af\u5883\u7ba1\u7406","\u5bb6\u7528\u670d\u52a1\u5668\u6298\u817e\u8bb0"]},unlisted:!1,prevItem:{title:"0x8.\u5bb6\u5ead\u670d\u52a1\u5668\u6298\u817e\u8bb0|\u670d\u52a1\u642d\u5efa|\u6c47\u603b",permalink:"/blog/old-computer-adventures/backgroud-services-all"},nextItem:{title:"0x6.\u5bb6\u5ead\u670d\u52a1\u5668\u6298\u817e\u8bb0|\u670d\u52a1\u642d\u5efa|Rancher",permalink:"/blog/old-computer-adventures/rancher"}},s={authorsImageUrls:[]},d=[{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:2},{value:"\u521b\u5efa\u76ee\u5f55",id:"\u521b\u5efa\u76ee\u5f55",level:3},{value:"\u8fd0\u884c\u5bb9\u5668",id:"\u8fd0\u884c\u5bb9\u5668",level:3},{value:"\u6210\u54c1\u5c55\u793a",id:"\u6210\u54c1\u5c55\u793a",level:2},{value:"\u4f7f\u7528\u4f53\u9a8c",id:"\u4f7f\u7528\u4f53\u9a8c",level:3},{value:"\u66f4\u591a\u8d44\u6599\uff1a",id:"\u66f4\u591a\u8d44\u6599",level:2}];function l(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"\u7ee7\u4e0a\u6587\u63d0\u53ca\u7684K8S\u5bb9\u5668\u7ba1\u7406\u5e73\u53f0\uff0cPortainer\u662f\u4e00\u4e2a\u9002\u5408\u672c\u5730\u90e8\u7f72\u7684\u8f7b\u91cf\u5316\u7684Docker\u53ef\u89c6\u5316\u7ba1\u7406\u5e73\u53f0\uff0c\u53ef\u4ee5\u8ba9\u4f60\u8f7b\u677e\u5730\u7ba1\u7406\u4f60\u7684Docker\u5bb9\u5668\u3002"}),"\n",(0,t.jsx)(n.p,{children:"Portainer \u4f7f\u7528\u975e\u5e38\u7b80\u5355\uff0c\u53ef\u4ee5\u8ba9\u4f60\u6446\u8131\u8bb0\u5fc6\u590d\u5236\u7684Docker\u547d\u4ee4"}),"\n",(0,t.jsx)(n.h2,{id:"\u5b89\u88c5",children:"\u5b89\u88c5"}),"\n",(0,t.jsx)(n.h3,{id:"\u521b\u5efa\u76ee\u5f55",children:"\u521b\u5efa\u76ee\u5f55"}),"\n",(0,t.jsxs)(n.p,{children:["\u521b\u5efa\u6587\u4ef6\u5939\u7528\u4ee5\u6302\u8f7d",(0,t.jsx)(n.code,{children:"\u914d\u7f6e\u6587\u4ef6"}),"\u548c",(0,t.jsx)(n.code,{children:"\u6570\u636e\u6587\u4ef6"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"mkdir -p ${HOME}/docker-data/portainer_data\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"docker-data/\n\u251c\u2500\u2500 alist\n\u2502\xa0\xa0 \u251c\u2500\u2500 config.json\n\u2502\xa0\xa0 \u251c\u2500\u2500 data.db\n\u2502\xa0\xa0 \u2514\u2500\u2500 temp\n\u251c\u2500\u2500 docker-registery\n\u2502\xa0\xa0 \u2514\u2500\u2500 docker\n\u251c\u2500\u2500 docker-registry\n\u251c\u2500\u2500 mysql\n\u2502\xa0\xa0 \u251c\u2500\u2500 conf\n\u2502\xa0\xa0 \u2514\u2500\u2500 data\n\u251c\u2500\u2500 mysql5.7.23\n\u2502\xa0\xa0 \u251c\u2500\u2500 auto.cnf\n\u2502\xa0\xa0 \u251c\u2500\u2500 ca-key.pem\n\u2502\xa0\xa0 \u251c\u2500\u2500 ca.pem\n\u2502\xa0\xa0 \u251c\u2500\u2500 client-cert.pem\n\u2502\xa0\xa0 \u251c\u2500\u2500 client-key.pem\n\u2502\xa0\xa0 \u251c\u2500\u2500 db\n\u2502\xa0\xa0 \u251c\u2500\u2500 ib_buffer_pool\n\u2502\xa0\xa0 \u251c\u2500\u2500 ibdata1\n\u2502\xa0\xa0 \u251c\u2500\u2500 ib_logfile0\n\u2502\xa0\xa0 \u251c\u2500\u2500 ib_logfile1\n\u2502\xa0\xa0 \u251c\u2500\u2500 ibtmp1\n\u2502\xa0\xa0 \u251c\u2500\u2500 mysql\n\u2502\xa0\xa0 \u251c\u2500\u2500 performance_schema\n\u2502\xa0\xa0 \u251c\u2500\u2500 private_key.pem\n\u2502\xa0\xa0 \u251c\u2500\u2500 public_key.pem\n\u2502\xa0\xa0 \u251c\u2500\u2500 server-cert.pem\n\u2502\xa0\xa0 \u251c\u2500\u2500 server-key.pem\n\u2502\xa0\xa0 \u2514\u2500\u2500 sys\n\u251c\u2500\u2500 nginx\n\u2502\xa0\xa0 \u251c\u2500\u2500 conf\n\u2502\xa0\xa0 \u251c\u2500\u2500 html\n\u2502\xa0\xa0 \u251c\u2500\u2500 logs\n\u2502\xa0\xa0 \u2514\u2500\u2500 ssl\n\u251c\u2500\u2500 portainer_data\n\u2502\xa0\xa0 \u251c\u2500\u2500 backups\n\u2502\xa0\xa0 \u251c\u2500\u2500 bin\n\u2502\xa0\xa0 \u251c\u2500\u2500 certs\n\u2502\xa0\xa0 \u251c\u2500\u2500 compose\n\u2502\xa0\xa0 \u251c\u2500\u2500 config.json\n\u2502\xa0\xa0 \u251c\u2500\u2500 docker_config\n\u2502\xa0\xa0 \u251c\u2500\u2500 portainer.db\n\u2502\xa0\xa0 \u251c\u2500\u2500 portainer.key\n\u2502\xa0\xa0 \u251c\u2500\u2500 portainer.pub\n\u2502\xa0\xa0 \u2514\u2500\u2500 tls\n\u251c\u2500\u2500 postgresql [error opening dir]\n\u2514\u2500\u2500 rancher\n \xa0\xa0 \u251c\u2500\u2500 auditlog # \u65b0\u5efa\n\xa0\xa0  \u2514\u2500\u2500 config # \u65b0\u5efa\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u8fd0\u884c\u5bb9\u5668",children:"\u8fd0\u884c\u5bb9\u5668"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker run -d -p 8000:8000 -p 9443:9443 \\\n  --name portainer --restart=always \\\n  -v /var/run/docker.sock:/var/run/docker.sock  \\\n  -v ${HOME}/docker-data/portainer_data:/data \\\n  portainer/portainer-ce\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u6210\u54c1\u5c55\u793a",children:"\u6210\u54c1\u5c55\u793a"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20221026021708419",src:r(61680).A+"",width:"3348",height:"1652"})}),"\n",(0,t.jsx)(n.h3,{id:"\u4f7f\u7528\u4f53\u9a8c",children:"\u4f7f\u7528\u4f53\u9a8c"}),"\n",(0,t.jsxs)(n.p,{children:["Portainer \u53ef\u4ee5\u76f4\u89c2\u7684\u4f7f\u7528\u53ef\u89c6\u5316\u9762\u677f\u521b\u5efaDocker\u5bb9\u5668\uff0c\u4e0e\u4f7f\u7528\u547d\u4ee4\u884c\u4e00\u81f4\u3002\u4f46\u662f\u53ef\u4ee5\u5927\u5927\u5e2e\u52a9\u6211\u4eec\u51cf\u4f4edocker\u547d\u4ee4\u7684\u8bb0\u5fc6\u91cf\u3002\u800c\u4e14\u5bf9\u4e8e\u50cf",(0,t.jsx)(n.code,{children:"docker inspect"}),"\u6b64\u7c7b\u7684\u64cd\u4f5c\u6765\u8bf4\uff0c\u5728\u9875\u9762\u4e0a\u67e5\u770b\u4fe1\u606f\u548c\u590d\u5236\u4fe1\u606f\u76f8\u8f83",(0,t.jsx)(n.code,{children:"\u547d\u4ee4\u884c"}),"\u4e5f\u66f4\u4e3a\u65b9\u4fbf\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"\u66f4\u591a\u8d44\u6599",children:"\u66f4\u591a\u8d44\u6599\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.portainer.io/start/install/server/docker/linux",children:"Install Portainer with Docker on Linux"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://blog.laoda.de/archives/portainer",children:"\u3010Docker\u7cfb\u5217\u3011Docker\u53ef\u89c6\u5316\u9762\u677f\u2014\u2014Portainer"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},61680:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/image-20221026021708419-4baf90583f0332e7476eb47e9cc0e632.png"},28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>c});var t=r(96540);const o={},i=t.createContext(o);function a(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);