"use strict";(self.webpackChunkcodepainter=self.webpackChunkcodepainter||[]).push([[7553],{25314:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>s,metadata:()=>d,toc:()=>l});var o=t(74848),i=t(28453);const s={title:"MongoDB \u57fa\u672c\u7528\u6cd5",date:new Date("2021-07-08T01:29:23.000Z"),slug:"/pages/6fdfeb/",categories:["\u540e\u7aef","DB"]},r=void 0,d={id:"\u6280\u672f\u7b14\u8bb0/\u8fd0\u7ef4/DB/MongoDB \u57fa\u672c\u7528\u6cd5",title:"MongoDB \u57fa\u672c\u7528\u6cd5",description:"\u8bb0\u5f97\u6700\u65e9\u4f7f\u7528\u7684\u6570\u636e\u5e93\u5c31\u662fMongoDB\uff0c\u5f53\u65f6\u61f5\u61c2\u65e0\u77e5\uff0c\u5c31\u77e5\u9053\u9700\u8981\u7528\u4e00\u4e2a\u6570\u636e\u5e93\u53bb\u50a8\u5b58\u6570\u636e\uff0c\u4e5f\u5206\u4e0d\u6e05SQL \u548c NoSQL\u3002\u4e0d\u8fc7MongoDB\u4ee5\u5b83\u7684\u65b9\u4fbf\u5feb\u6377\u5438\u5f15\u4e86\u6211\uff0c\u4ee5\u81f3\u4e8e\u540e\u6765\u6bcf\u6b21\u7528MySQL\u7684\u65f6\u5019\uff0c\u8fd8\u5947\u602a\u4e3a\u5565\u6bcf\u6b21\u90fd\u9700\u8981DDL\u5b9a\u4e49\u7ed3\u6784\uff0c\u597d\u9ebb\u70e6\u3002",source:"@site/docs/01.\u6280\u672f\u7b14\u8bb0/03.\u8fd0\u7ef4/04.DB/30.MongoDB \u57fa\u672c\u7528\u6cd5.md",sourceDirName:"01.\u6280\u672f\u7b14\u8bb0/03.\u8fd0\u7ef4/04.DB",slug:"/pages/6fdfeb/",permalink:"/docs/pages/6fdfeb/",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/01.\u6280\u672f\u7b14\u8bb0/03.\u8fd0\u7ef4/04.DB/30.MongoDB \u57fa\u672c\u7528\u6cd5.md",tags:[],version:"current",sidebarPosition:30,frontMatter:{title:"MongoDB \u57fa\u672c\u7528\u6cd5",date:"2021-07-08T01:29:23.000Z",slug:"/pages/6fdfeb/",categories:["\u540e\u7aef","DB"]},sidebar:"techwiki",previous:{title:"SQL\u4f18\u5316--Explain",permalink:"/docs/pages/d2d9a2/"},next:{title:"\u6570\u636e\u5e93\u8fc1\u79fb\u5de5\u5177\u6bd4\u8f83",permalink:"/docs/pages/8f7b7d/"}},c={},l=[{value:"\u5b89\u88c5\u6559\u7a0b",id:"\u5b89\u88c5\u6559\u7a0b",level:2},{value:"\u57fa\u7840\u547d\u4ee4",id:"\u57fa\u7840\u547d\u4ee4",level:2},{value:"\u6570\u636e\u5e93&amp;\u96c6\u5408",id:"\u6570\u636e\u5e93\u96c6\u5408",level:2},{value:"\u67e5\u8be2\u6587\u6863",id:"\u67e5\u8be2\u6587\u6863",level:3},{value:"\u63d2\u5165\u6587\u6863",id:"\u63d2\u5165\u6587\u6863",level:3},{value:"\u66f4\u65b0\u6587\u6863",id:"\u66f4\u65b0\u6587\u6863",level:3},{value:"\u5220\u9664\u6587\u6863",id:"\u5220\u9664\u6587\u6863",level:3},{value:"\u5220\u9664\u5b57\u6bb5",id:"\u5220\u9664\u5b57\u6bb5",level:3},{value:"\u8865\u5145",id:"\u8865\u5145",level:2}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"\u8bb0\u5f97\u6700\u65e9\u4f7f\u7528\u7684\u6570\u636e\u5e93\u5c31\u662fMongoDB\uff0c\u5f53\u65f6\u61f5\u61c2\u65e0\u77e5\uff0c\u5c31\u77e5\u9053\u9700\u8981\u7528\u4e00\u4e2a\u6570\u636e\u5e93\u53bb\u50a8\u5b58\u6570\u636e\uff0c\u4e5f\u5206\u4e0d\u6e05SQL \u548c NoSQL\u3002\u4e0d\u8fc7MongoDB\u4ee5\u5b83\u7684\u65b9\u4fbf\u5feb\u6377\u5438\u5f15\u4e86\u6211\uff0c\u4ee5\u81f3\u4e8e\u540e\u6765\u6bcf\u6b21\u7528MySQL\u7684\u65f6\u5019\uff0c\u8fd8\u5947\u602a\u4e3a\u5565\u6bcf\u6b21\u90fd\u9700\u8981DDL\u5b9a\u4e49\u7ed3\u6784\uff0c\u597d\u9ebb\u70e6\u3002"}),"\n",(0,o.jsx)(n.p,{children:"P.S. \u8fd8\u8bb0\u5f97\u5b66\u5b8cMongoDB\u7684\u90a3\u4e2a\u665a\u4e0a\uff0c\u9ec4\u660f\ud83c\udf06\u8fd8\u662f\u86ee\u597d\u770b\u7684\u6837\u5b50"}),"\n",(0,o.jsx)(n.h2,{id:"\u5b89\u88c5\u6559\u7a0b",children:"\u5b89\u88c5\u6559\u7a0b"}),"\n",(0,o.jsx)(n.h2,{id:"\u57fa\u7840\u547d\u4ee4",children:"\u57fa\u7840\u547d\u4ee4"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["\u53c2\u8003\u6559\u7a0b\u63a8\u8350\uff1a",(0,o.jsx)(n.a,{href:"https://docs.mongodb.com/guides/server/insert/",children:"CRUD Guides: Create, Read, Update, and Delete Data"})]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"\u6570\u636e\u5e93\u96c6\u5408",children:"\u6570\u636e\u5e93&\u96c6\u5408"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"use test # \u5207\u6362\u6570\u636e\u5e93\nshow dbs # \u663e\u793a\u6240\u6709\u6570\u636e\u5e93\nshow collections # \u663e\u793a\u6240\u6709collections\n\ndb.dropDatabase(test) # \u5220\u9664\u6570\u636e\u5e93 test\ndb.createCollection(inventory) # \u521b\u5efa\u96c6\u5408 inventory\ndb.inventory.drop() # \u5220\u9664\u96c6\u5408 inventory\n\n\nmongo mongodb://$[hostlist]/$[database]?authSource=$[authSource] --username $[username] # \u8fde\u63a5\u6570\u636e\u5e93\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u67e5\u8be2\u6587\u6863",children:"\u67e5\u8be2\u6587\u6863"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'# \u67e5\u8be2\u5168\u91cf\u6570\u636e\ndb.inventory.find({}) \n\n# \u5e26Query\u7684\u67e5\u8be2\ndb.inventory.find( { size: { h: 14, w: 21, uom: "cm" } } ) \ndb.inventory.find( { "size.uom": "in" } ) # \u4f7f\u7528 dot notation\n\n# \u5e26\u6bd4\u8f83\u8fd0\u7b97\u7b26\u7684\u67e5\u8be2\ndb.inventory.find( { "size.h": { $lt: 15 } } )\n\n# \u5e26And\u7684\u67e5\u8be2\ndb.inventory.find( { $and: [ { price: { $ne: 1.99 } }, { price: { $exists: true } } ] } )  # \u663e\u5f0f\u5199\u6cd5\ndb.inventory.find( { price: { $ne: 1.99, $exists: true } } )  # \u9690\u5f0f\u5199\u6cd5\n\n# \u5e26Or\u7684\u67e5\u8be2\ndb.inventory.find( { $or: [ { status: "A" }, { qty: { $lt: 30 } } ] } )\n\n\n# \u590d\u6742\u67e5\u8be2\n# AND \u548c OR \u4e00\u8d77\u4f7f\u7528\ndb.inventory.find( {\n    $and: [\n        { $or: [ { qty: { $lt : 10 } }, { qty : { $gt: 50 } } ] },\n        { $or: [ { sale: true }, { price : { $lt : 5 } } ] }\n    ]\n} )\n\n\ndb.inventory.find( {\n     status: "A",\n     $or: [ { qty: { $lt: 30 } }, { item: /^p/ } ]  // qty\u5c0f\u4e8e30 \u6216 item \u4ee5 p \u5f00\u5934\n} \n\n# \u8f93\u51fa\u683c\u5f0f\u5316\ndb.inventory.find({}).pretty()\n\n# \u67e5\u8be2\u5b57\u6bb5\u662f\u5426\u5b58\u5728\ndb.inventory.find({"price": {"$exists": true}}) # \u7b5b\u9009\u51fa price \u5b57\u6bb5\u5b58\u5728\u7684\u8bb0\u5f55\n'})}),"\n",(0,o.jsx)(n.h3,{id:"\u63d2\u5165\u6587\u6863",children:"\u63d2\u5165\u6587\u6863"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'# use test\n# \u5c06\u6570\u636e\u63d2\u5165collections\uff1ainventory\uff0c\u6b64\u65f6\u4f1a\u521b\u5efatest\u6570\u636e\u5e93\n# \u63d2\u5165\u4e00\u6761\u6570\u636e\ndb.inventory.insertOne(\n   { "item" : "canvas",\n     "qty" : 100,\n     "tags" : ["cotton"],\n     "size" : { "h" : 28, "w" : 35.5, "uom" : "cm" }\n   }\n)\n\n# \u6279\u91cf\u63d2\u5165\u6570\u636e\ndb.inventory.insertMany( [\n   { "item": "journal", "qty": 25, "size": { "h": 14, "w": 21, "uom": "cm" }, "status": "A" },\n   { "item": "notebook", "qty": 50, "size": { "h": 8.5, "w": 11, "uom": "in" }, "status": "A" },\n   { "item": "paper", "qty": 100, "size": { "h": 8.5, "w": 11, "uom": "in" }, "status": "D" },\n   { "item": "planner", "qty": 75, "size": { "h": 22.85, "w": 30, "uom": "cm" }, "status": "D" },\n   { "item": "postcard", "qty": 45, "size": { "h": 10, "w": 15.25, "uom": "cm" }, "status": "A" }\n]);\n'})}),"\n",(0,o.jsx)(n.h3,{id:"\u66f4\u65b0\u6587\u6863",children:"\u66f4\u65b0\u6587\u6863"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'# \u66f4\u65b0\n# \u66f4\u65b0\u4e00\u6761\ndb.inventory.updateOne(\n    { "item" : "paper" }, // specifies the document to update\n    {\n      $set: {  "size.uom" : "cm",  "status" : "P" },\n      $currentDate: { "lastModified": true }\n    }\n)\n\n# \u66f4\u65b0\u591a\u6761\ndb.inventory.updateMany(\n    { "qty" : { $lt: 50 } }, // specifies the documents to update\n    {\n       $set: { "size.uom" : "cm", "status": "P" },\n       $currentDate : { "lastModified": true }\n    }\n)\n'})}),"\n",(0,o.jsx)(n.h3,{id:"\u5220\u9664\u6587\u6863",children:"\u5220\u9664\u6587\u6863"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'# \u5220\u9664\u4e00\u6761\ndb.inventory.deleteOne(\n    { "status": "D" } // specifies the document to delete\n)\n# \u5220\u9664\u591a\u6761\ndb.inventory.deleteMany(\n    { "status" : "A" } // specifies the documents to delete\n)\n'})}),"\n",(0,o.jsx)(n.h3,{id:"\u5220\u9664\u5b57\u6bb5",children:"\u5220\u9664\u5b57\u6bb5"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'db.inventory.update({"price": {"$lt": 3}}, {"$unset": {"discount":1}}, {multi: true}) # \u4ef7\u683c\u4f4e\u4e8e3\u5143\uff0c\u53d6\u6d88\u6253\u6298\u3002multi\u8bbe\u7f6e\u4e3atrue\u5220\u9664\u591a\u6761\u8bb0\u5f55\u3002\n'})}),"\n",(0,o.jsx)(n.h2,{id:"\u8865\u5145",children:"\u8865\u5145"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["MongoDB\u4e2d\u5b58\u5728\u8bb8\u591a\u8fd0\u7b97\u7b26\uff0c\u5982\u524d ",(0,o.jsx)(n.code,{children:"$gt"}),"\uff0c",(0,o.jsx)(n.a,{href:"https://docs.mongodb.com/manual/reference/operator/query/",children:"Query and Projection Operators"})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["\u901a\u8fc7\u7f16\u7a0b\u8bed\u8a00\u8fde\u63a5 MongoDB \u6587\u6863\uff1a",(0,o.jsx)(n.a,{href:"https://docs.mongodb.com/drivers/",children:"https://docs.mongodb.com/drivers/"})]}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>d});var o=t(96540);const i={},s=o.createContext(i);function r(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);