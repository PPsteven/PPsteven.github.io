"use strict";(self.webpackChunkcodepainter=self.webpackChunkcodepainter||[]).push([[7948],{54738:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>t,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var c=r(74848),s=r(28453);const i={title:"linux crontab \u5165\u95e8",date:new Date("2020-02-19T00:18:48.000Z"),tags:["Linux","crontab","\u8fd0\u7ef4"],categories:["Linux"],cover:"https://cdn.jsdelivr.net/gh/PPsteven/pictures/img/20200121014942.png",permalink:"/pages/fd666e/",slug:"linux-crontab-basic"},l=void 0,o={id:"\u6280\u672f\u7b14\u8bb0/\u8fd0\u7ef4/Linux/Linux crontab \u5165\u95e8",title:"linux crontab \u5165\u95e8",description:"crontab \u7684\u4f5c\u7528\u662f\uff0c\u6267\u884c linux \u4e0a\u7684\u5b9a\u65f6\u4efb\u52a1\u3002\u5f53\u6211\u4eec\u9700\u8981\u8fd0\u884c\u4e00\u4e9b\u8bf8\u5982 \u65e5\u5fd7\u91c7\u96c6 \u3001\u5fc3\u8df3\u68c0\u67e5 \u8fd9\u79cd\u4efb\u52a1\u7684\u65f6\u5019\uff0c\u9700\u8981\u7528\u5230\u3002",source:"@site/docs/01.\u6280\u672f\u7b14\u8bb0/03.\u8fd0\u7ef4/02.Linux/02.Linux crontab \u5165\u95e8.md",sourceDirName:"01.\u6280\u672f\u7b14\u8bb0/03.\u8fd0\u7ef4/02.Linux",slug:"/\u6280\u672f\u7b14\u8bb0/\u8fd0\u7ef4/Linux/linux-crontab-basic",permalink:"/docs/\u6280\u672f\u7b14\u8bb0/\u8fd0\u7ef4/Linux/linux-crontab-basic",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/01.\u6280\u672f\u7b14\u8bb0/03.\u8fd0\u7ef4/02.Linux/02.Linux crontab \u5165\u95e8.md",tags:[{label:"Linux",permalink:"/docs/tags/linux"},{label:"crontab",permalink:"/docs/tags/crontab"},{label:"\u8fd0\u7ef4",permalink:"/docs/tags/\u8fd0\u7ef4"}],version:"current",sidebarPosition:2,frontMatter:{title:"linux crontab \u5165\u95e8",date:"2020-02-19T00:18:48.000Z",tags:["Linux","crontab","\u8fd0\u7ef4"],categories:["Linux"],cover:"https://cdn.jsdelivr.net/gh/PPsteven/pictures/img/20200121014942.png",permalink:"/pages/fd666e/",slug:"linux-crontab-basic"},sidebar:"techwiki",previous:{title:"Linux \u73af\u5883\u53d8\u91cf\u8bfb\u53d6\u987a\u5e8f",permalink:"/docs/\u6280\u672f\u7b14\u8bb0/\u8fd0\u7ef4/Linux/linux-environment-variable-config-file-order"},next:{title:"Centos \u73af\u5883\u914d\u7f6e\uff08\u6301\u7eed\u603b\u7ed3\uff09",permalink:"/docs/\u6280\u672f\u7b14\u8bb0/\u8fd0\u7ef4/Linux/centos-install-introduction"}},t={},d=[{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:2},{value:"\u57fa\u7840\u8bed\u6cd5",id:"\u57fa\u7840\u8bed\u6cd5",level:2},{value:"\u4f7f\u7528\u65b9\u6cd5",id:"\u4f7f\u7528\u65b9\u6cd5",level:3},{value:"\u5b9e\u4f8b",id:"\u5b9e\u4f8b",level:3},{value:"\u914d\u7f6e\u6587\u4ef6",id:"\u914d\u7f6e\u6587\u4ef6",level:2},{value:"\u5e38\u89c1\u95ee\u9898",id:"\u5e38\u89c1\u95ee\u9898",level:2},{value:"\u5982\u4f55\u67e5\u770b\u65e5\u5fd7",id:"\u5982\u4f55\u67e5\u770b\u65e5\u5fd7",level:3},{value:"\u5982\u4f55\u67e5\u770b/\u5907\u4efd\u4efb\u52a1",id:"\u5982\u4f55\u67e5\u770b\u5907\u4efd\u4efb\u52a1",level:3},{value:"\u6ce8\u610f\u4e8b\u9879",id:"\u6ce8\u610f\u4e8b\u9879",level:2},{value:"\u5efa\u8bae\u4e0d\u8f93\u51fa\u65e5\u5fd7",id:"\u5efa\u8bae\u4e0d\u8f93\u51fa\u65e5\u5fd7",level:3},{value:"\u73af\u5883\u53d8\u91cf\u95ee\u9898",id:"\u73af\u5883\u53d8\u91cf\u95ee\u9898",level:3},{value:"Crontab \u65f6\u533a",id:"crontab-\u65f6\u533a",level:3},{value:"\u53c2\u8003\u8d44\u6599",id:"\u53c2\u8003\u8d44\u6599",level:2}];function a(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(e.p,{children:["crontab \u7684\u4f5c\u7528\u662f\uff0c\u6267\u884c linux \u4e0a\u7684\u5b9a\u65f6\u4efb\u52a1\u3002\u5f53\u6211\u4eec\u9700\u8981\u8fd0\u884c\u4e00\u4e9b\u8bf8\u5982 ",(0,c.jsx)(e.code,{children:"\u65e5\u5fd7\u91c7\u96c6"})," \u3001",(0,c.jsx)(e.code,{children:"\u5fc3\u8df3\u68c0\u67e5"})," \u8fd9\u79cd\u4efb\u52a1\u7684\u65f6\u5019\uff0c\u9700\u8981\u7528\u5230\u3002"]}),"\n",(0,c.jsxs)(e.p,{children:["\u6700\u8fd1\u5728\u505a linux \u811a\u672c\u68c0\u67e5 ",(0,c.jsx)(e.code,{children:"python \u722c\u866b\u811a\u672c"})," \u662f\u5426\u5065\u5eb7\u8fd0\u884c\uff0c\u6545\u91c7\u7528\u8fd9\u4e2a\u65b9\u6cd5\u3002"]}),"\n",(0,c.jsxs)(e.blockquote,{children:["\n",(0,c.jsx)(e.p,{children:"\u53ea\u8981\u662f\u5e38\u9a7b\u7684\u7a0b\u5e8f\uff0c\u5bf9\u4e8e\u7a0b\u5e8f\u7684\u8981\u6c42\u6bd4\u8f83\u9ad8\uff0c\u5fc5\u987b\u6709\u5f88\u597d\u7684\u7a33\u5065\u6027\uff0c\u53ef\u4ee5\u9762\u5bf9\u5404\u79cd\u60c5\u51b5\u3002"}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"\u4e00\u4e2a\u7a0b\u5e8f\u5f88\u96be\u8003\u8651\u5230\u5404\u79cd\u6781\u7aef\u60c5\u51b5(\u6b7b\u673a\uff0c\u5185\u5b58\u7206\uff0c\u7f51\u7edc\u95ee\u9898\u7b49)\uff0c\u8fd9\u65f6\u5019\u6211\u4eec\u5fc5\u987b\u8981\u5b9e\u65f6\u76d1\u63a7\u8fd9\u4e9b\u8fdb\u7a0b\u7684\u65b9\u6cd5\u3002"}),"\n",(0,c.jsx)(e.p,{children:"\u8fd9\u91cc\u6211\u51c6\u5907\u91c7\u7528\u7684\u65b9\u6cd5\u4e00\uff1a\u65e5\u8bb0\u91c7\u96c6+\u76d1\u63a7\uff0c \u65b9\u6cd5\u4e8c\uff1a\u5b9a\u671f\u68c0\u67e5\u5e76\u5524\u8d77\u3002\u65e5\u5fd7\u91c7\u96c6\u7684\u4e1c\u897f\u51c6\u5907\u653e\u5728\u4e0b\u4e00\u7bc7\u8bb2\u3002"}),"\n",(0,c.jsxs)(e.blockquote,{children:["\n",(0,c.jsx)(e.p,{children:"\u5f53\u5b89\u88c5\u5b8c\u6210\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u540e\uff0c\u9ed8\u8ba4\u4fbf\u4f1a\u542f\u52a8\u6b64\u4efb\u52a1\u8c03\u5ea6\u547d\u4ee4\u3002crond \u547d\u4ee4\u6bcf\u5206\u953a\u4f1a\u5b9a\u671f\u68c0\u67e5\u662f\u5426\u6709\u8981\u6267\u884c\u7684\u5de5\u4f5c\uff0c\u5982\u679c\u6709\u8981\u6267\u884c\u7684\u5de5\u4f5c\u4fbf\u4f1a\u81ea\u52a8\u6267\u884c\u8be5\u5de5\u4f5c"}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"\u800c linux \u4efb\u52a1\u8c03\u5ea6\u7684\u5de5\u4f5c\u4e3b\u8981\u5206\u4e3a\u4ee5\u4e0b\u4e24\u7c7b\uff1a"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"1\u3001\u7cfb\u7edf\u6267\u884c\u7684\u5de5\u4f5c\uff1a\u7cfb\u7edf\u5468\u671f\u6027\u6240\u8981\u6267\u884c\u7684\u5de5\u4f5c\uff0c\u5982\u5907\u4efd\u7cfb\u7edf\u6570\u636e\u3001\u6e05\u7406\u7f13\u5b58"}),"\n",(0,c.jsx)(e.li,{children:"2\u3001\u4e2a\u4eba\u6267\u884c\u7684\u5de5\u4f5c\uff1a\u67d0\u4e2a\u7528\u6237\u5b9a\u671f\u8981\u505a\u7684\u5de5\u4f5c\uff0c\u4f8b\u5982\u6bcf\u969410\u5206\u949f\u68c0\u67e5\u90ae\u4ef6\u670d\u52a1\u5668\u662f\u5426\u6709\u65b0\u4fe1\uff0c\u8fd9\u4e9b\u5de5\u4f5c\u53ef\u7531\u6bcf\u4e2a\u7528\u6237\u81ea\u884c\u8bbe\u7f6e"}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"\u5b89\u88c5",children:"\u5b89\u88c5"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"yum install crontabs\n"})}),"\n",(0,c.jsxs)(e.p,{children:["\u5bf9\u4e8e ",(0,c.jsx)(e.code,{children:"crontabs"})," \u670d\u52a1\u7684\u64cd\u4f5c"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"systemctl status crond // systemctl \u548c service \u4e5f\u662f\u4e00\u6837\nservice crond start //\u542f\u52a8\u670d\u52a1\nservice crond stop //\u5173\u95ed\u670d\u52a1\nservice crond restart //\u91cd\u542f\u670d\u52a1\nservice crond reload //\u91cd\u65b0\u8f7d\u5165\u914d\u7f6e\nservice crond status //\u67e5\u770b\u670d\u52a1\u662f\u5426\u542f\u52a8\n"})}),"\n",(0,c.jsx)(e.h2,{id:"\u57fa\u7840\u8bed\u6cd5",children:"\u57fa\u7840\u8bed\u6cd5"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{children:"crontab [ -u user ] file\ncrontab [ -u user ] { -l | -r | -e } \n-l \u5217\u51fa\u76ee\u524d\u7528\u6237\u7684\u65f6\u7a0b\u8868\n-r \u5220\u9664\u76ee\u524d\u7528\u6237\u7684\u65f6\u7a0b\u8868\n-e \u7f16\u8f91\u76ee\u524d\u7528\u6237\u7684\u65f6\u7a0b\u8868(\u9ed8\u8ba4\u91c7\u7528VI)  \u7b49\u4ef7\u4e8e\u8fd0\u884c vi /var/spool/cron/root [\u6ce8:\u5047\u5982\u4f60\u662froot\u7528\u6237(\u6587\u4ef6\u540d\u4e0e\u7528\u6237\u540d\u4e00\u6837)]\n"})}),"\n",(0,c.jsx)(e.h3,{id:"\u4f7f\u7528\u65b9\u6cd5",children:"\u4f7f\u7528\u65b9\u6cd5"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{children:"f1 f2 f3 f4 f5 program\n"})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u5176\u4e2d f1 \u662f\u8868\u793a\u5206\u949f\uff0cf2 \u8868\u793a\u5c0f\u65f6\uff0cf3 \u8868\u793a\u4e00\u4e2a\u6708\u4efd\u4e2d\u7684\u7b2c\u51e0\u65e5\uff0cf4 \u8868\u793a\u6708\u4efd\uff0cf5 \u8868\u793a\u4e00\u4e2a\u661f\u671f\u4e2d\u7684\u7b2c\u51e0\u5929\u3002program \u8868\u793a\u8981\u6267\u884c\u7684\u7a0b\u5e8f\u3002"}),"\n",(0,c.jsx)(e.li,{children:"\u5f53 f1 \u4e3a * \u65f6\u8868\u793a\u6bcf\u5206\u949f\u90fd\u8981\u6267\u884c program\uff0cf2 \u4e3a * \u65f6\u8868\u793a\u6bcf\u5c0f\u65f6\u90fd\u8981\u6267\u884c\u7a0b\u5e8f\uff0c\u5176\u9980\u7c7b\u63a8"}),"\n",(0,c.jsx)(e.li,{children:"\u5f53 f1 \u4e3a a-b \u65f6\u8868\u793a\u4ece\u7b2c a \u5206\u949f\u5230\u7b2c b \u5206\u949f\u8fd9\u6bb5\u65f6\u95f4\u5185\u8981\u6267\u884c\uff0cf2 \u4e3a a-b \u65f6\u8868\u793a\u4ece\u7b2c a \u5230\u7b2c b \u5c0f\u65f6\u90fd\u8981\u6267\u884c\uff0c\u5176\u9980\u7c7b\u63a8"}),"\n",(0,c.jsx)(e.li,{children:"\u5f53 f1 \u4e3a */n \u65f6\u8868\u793a\u6bcf n \u5206\u949f\u4e2a\u65f6\u95f4\u95f4\u9694\u6267\u884c\u4e00\u6b21\uff0cf2 \u4e3a */n \u8868\u793a\u6bcf n \u5c0f\u65f6\u4e2a\u65f6\u95f4\u95f4\u9694\u6267\u884c\u4e00\u6b21\uff0c\u5176\u9980\u7c7b\u63a8"}),"\n",(0,c.jsx)(e.li,{children:"\u5f53 f1 \u4e3a a, b, c,... \u65f6\u8868\u793a\u7b2c a, b, c,... \u5206\u949f\u8981\u6267\u884c\uff0cf2 \u4e3a a, b, c,... \u65f6\u8868\u793a\u7b2c a, b, c...\u4e2a\u5c0f\u65f6\u8981\u6267\u884c\uff0c\u5176\u9980\u7c7b\u63a8"}),"\n"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{children:"*    *    *    *    *\n-    -    -    -    -\n|    |    |    |    |\n|    |    |    |    +----- \u661f\u671f\u4e2d\u661f\u671f\u51e0 (0 - 7) (\u661f\u671f\u5929 \u4e3a0)\n|    |    |    +---------- \u6708\u4efd (1 - 12) \n|    |    +--------------- \u4e00\u4e2a\u6708\u4e2d\u7684\u7b2c\u51e0\u5929 (1 - 31)\n|    +-------------------- \u5c0f\u65f6 (0 - 23)\n+------------------------- \u5206\u949f (0 - 59)\n"})}),"\n",(0,c.jsx)(e.h3,{id:"\u5b9e\u4f8b",children:"\u5b9e\u4f8b"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{children:'0 */2 * * * /sbin/service httpd restart  \u610f\u601d\u662f\u6bcf\u4e24\u4e2a\u5c0f\u65f6\u91cd\u542f\u4e00\u6b21apache \n50 7 * * * /sbin/service sshd start  \u610f\u601d\u662f\u6bcf\u59297\uff1a50\u5f00\u542fssh\u670d\u52a1 \n50 22 * * * /sbin/service sshd stop  \u610f\u601d\u662f\u6bcf\u592922\uff1a50\u5173\u95edssh\u670d\u52a1 \n0 0 1,15 * * fsck /home  \u6bcf\u67081\u53f7\u548c15\u53f7\u68c0\u67e5/home \u78c1\u76d8 \n1 * * * * /home/bruce/backup  \u6bcf\u5c0f\u65f6\u7684\u7b2c\u4e00\u5206\u6267\u884c /home/bruce/backup\u8fd9\u4e2a\u6587\u4ef6 \n00 03 * * 1-5 find /home "*.xxx" -mtime +4 -exec rm {} \\;  \u6bcf\u5468\u4e00\u81f3\u5468\u4e943\u70b9\u949f\uff0c\u5728\u76ee\u5f55/home\u4e2d\uff0c\u67e5\u627e\u6587\u4ef6\u540d\u4e3a*.xxx\u7684\u6587\u4ef6\uff0c\u5e76\u5220\u96644\u5929\u524d\u7684\u6587\u4ef6\u3002\n30 6 */10 * * ls  \u610f\u601d\u662f\u6bcf\u6708\u76841\u300111\u300121\u300131\u65e5\u662f\u76846\uff1a30\u6267\u884c\u4e00\u6b21ls\u547d\u4ee4\n'})}),"\n",(0,c.jsx)(e.h2,{id:"\u914d\u7f6e\u6587\u4ef6",children:"\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,c.jsx)(e.p,{children:"crontab \u662f\u7cfb\u7edf\u4efb\u52a1\u8c03\u5ea6\u7684\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{children:"# /etc/crontab\nSHELL=/bin/bash # \u8bb0\u5f55\u4f7f\u7528\u7684 shell \nPATH=/sbin:/bin:/usr/sbin:/usr/bin # \u8bb0\u5f55 crontab \u7684\u73af\u5883\u53d8\u91cf\nMAILTO=root # \u53d1\u9001\u90ae\u4ef6\u7684\u7528\u6237 \n"})}),"\n",(0,c.jsx)(e.h2,{id:"\u5e38\u89c1\u95ee\u9898",children:"\u5e38\u89c1\u95ee\u9898"}),"\n",(0,c.jsx)(e.h3,{id:"\u5982\u4f55\u67e5\u770b\u65e5\u5fd7",children:"\u5982\u4f55\u67e5\u770b\u65e5\u5fd7"}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"\u6267\u884c\u65e5\u5fd7"})," \u5b58\u50a8\u5730\u5740  ",(0,c.jsx)(e.code,{children:"/var/log/cron*"})]}),"\n",(0,c.jsxs)(e.p,{children:["\u6267\u884c\u65e5\u5fd7\u6309\u5929\u6392\u5217\uff1a",(0,c.jsx)(e.code,{children:"cron"})," \u3001",(0,c.jsx)(e.code,{children:"cron-20171119"})," ..."]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"tail -f /var/log/cron \n"})}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"\u8fd0\u884c\u65e5\u5fd7"})," \u5b58\u50a8\u5730\u5740 ",(0,c.jsx)(e.code,{children:"/var/spool/mail/root"})]}),"\n",(0,c.jsxs)(e.blockquote,{children:["\n",(0,c.jsx)(e.p,{children:"mail/root \u4e2d\u7684root \u662f\u6587\u4ef6\u540d\uff0c\u4e0e\u7528\u6237\u4fdd\u6301\u4e00\u81f4"}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"\u53d1\u90ae\u4ef6\u7684\u529f\u80fd\uff0c\u6211\u6ca1\u6709\u5c1d\u8bd5\u6210\u529f // TODO"}),"\n",(0,c.jsx)(e.h3,{id:"\u5982\u4f55\u67e5\u770b\u5907\u4efd\u4efb\u52a1",children:"\u5982\u4f55\u67e5\u770b/\u5907\u4efd\u4efb\u52a1"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"# \u7f16\u8f91\u4efb\u52a1\ncrontab -e \n# \u5b9e\u9645\u4e0a\u6240\u6709\u7684\u914d\u7f6e\u90fd\u5b58\u653e\u5728 /var/spool/cron/*\u4e0b\uff0c\u6587\u4ef6\u540d\u4e0e\u7528\u6237\u540d\u4e00\u81f4\n/var/spool/conf/root :root \u7528\u6237\u4efb\u52a1\n/var/spool/conf/mysql :mysql \u7528\u6237\u4efb\u52a1\n# \u5907\u4efd\u4efb\u52a1\ncrontab -l > $HOME/mycrontab\ncp /var/spool/conf/root $HOME/YOURPLACE/root\n"})}),"\n",(0,c.jsx)(e.h2,{id:"\u6ce8\u610f\u4e8b\u9879",children:"\u6ce8\u610f\u4e8b\u9879"}),"\n",(0,c.jsx)(e.p,{children:"crontab \u6709\u5f88\u591a\u7684\u6ce8\u610f\u5b9e\u73b0\uff0c\u65b0\u624b\u5f88\u5bb9\u6613\u7ffb\u8f66"}),"\n",(0,c.jsx)(e.h3,{id:"\u5efa\u8bae\u4e0d\u8f93\u51fa\u65e5\u5fd7",children:"\u5efa\u8bae\u4e0d\u8f93\u51fa\u65e5\u5fd7"}),"\n",(0,c.jsx)(e.p,{children:"\u539f\u56e0\u662f\u4efb\u52a1\u8fd0\u884c\u592a\u9891\u7e41\uff0c\u65e5\u5fd7\u4f1a\u7d2f\u79ef\u7684\u975e\u5e38\u5927\uff0c\u4e0d\u7559\u610f\u4f1a\u6491\u7206\u4f60\u7684\u786c\u76d8"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{children:"> /dev/null 2>&1\n"})}),"\n",(0,c.jsx)(e.h3,{id:"\u73af\u5883\u53d8\u91cf\u95ee\u9898",children:"\u73af\u5883\u53d8\u91cf\u95ee\u9898"}),"\n",(0,c.jsxs)(e.p,{children:["crontab \u7684\u73af\u5883\u53d8\u91cf\u662f\u4e00\u4e2a\u5927\u95ee\u9898\uff0ccrontab\u8fd0\u884c\u7684\u65f6\u5019\u4e0d\u662f\u4ee5\u4ea4\u4e92\u5f0f\u7684\u65b9\u5f0f\u8fd0\u884c\u6211\u4eec\u7684\u7a0b\u5e8f\uff0c\u8fd9\u6837\u7684\u8bdd\uff0c\u6211\u4eec\u5e38\u89c4\u7684\u7528\u6765\u914d\u7f6e ",(0,c.jsx)(e.code,{children:"linux \u73af\u5883\u53d8\u91cf"})," \u7684\u65b9\u6cd5\u3002\u5982 ",(0,c.jsx)(e.code,{children:".bashrc"})," \uff0c",(0,c.jsx)(e.code,{children:".bash_profile"})," \u7b49\u90fd\u4e0d\u4f1a\u8d77\u4f5c\u7528\u3002"]}),"\n",(0,c.jsxs)(e.blockquote,{children:["\n",(0,c.jsx)(e.p,{children:"\u5b98\u65b9\u7ed9\u7684\u5efa\u8bae\u662f\uff0c\u4e0d\u8981\u5047\u5b9a cron \u77e5\u9053\u6240\u9700\u8981\u7684\u7279\u6b8a\u73af\u5883\uff0c\u6240\u4ee5\u8981\u4fdd\u8bc1 shell \u811a\u672c\u4e2d\u63d0\u4f9b\u6240\u6709\u5fc5\u8981\u7684\u8def\u5f84\u548c\u73af\u5883\u53d8\u91cf\u3002"}),"\n"]}),"\n",(0,c.jsxs)(e.ol,{children:["\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsx)(e.p,{children:"\u811a\u672c\u4e2d\u6d89\u53ca\u6587\u4ef6\u8def\u5f84\u65f6\u5199\u5168\u5c40\u8def\u5f84\uff1b"}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsx)(e.p,{children:"\u811a\u672c\u6267\u884c\u8981\u7528\u5230java\u6216\u5176\u4ed6\u73af\u5883\u53d8\u91cf\u65f6\uff0c\u901a\u8fc7source\u547d\u4ee4\u5f15\u5165\u73af\u5883\u53d8\u91cf\uff0c\u5982:"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"cat start_cbp.sh\n#!/bin/sh\n# shell \u811a\u672c\u4e2d\u5199\u5165\u6240\u9700\u5f15\u5165\u7684\u73af\u5883\u53d8\u91cf\nsource /etc/profile\nexport RUN_CONF=/home/d139/conf/platform/cbp/cbp_jboss.conf\n/usr/local/jboss-4.0.5/bin/run.sh -c mev &\n"})}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsx)(e.p,{children:"\u5f53\u624b\u52a8\u6267\u884c\u811a\u672cOK\uff0c\u4f46\u662fcrontab\u6b7b\u6d3b\u4e0d\u6267\u884c\u65f6,\u5f88\u53ef\u80fd\u662f\u73af\u5883\u53d8\u91cf\u60f9\u7684\u7978\uff0c\u53ef\u5c1d\u8bd5\u5728crontab\u4e2d\u76f4\u63a5\u5f15\u5165\u73af\u5883\u53d8\u91cf\u89e3\u51b3\u95ee\u9898\u3002\u5982:"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{children:"0 * * * * . /etc/profile;/bin/sh /var/www/java/audit_no_count/bin/restart_audit.sh\n"})}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"crontab-\u65f6\u533a",children:"Crontab \u65f6\u533a"}),"\n",(0,c.jsx)(e.p,{children:"\u7cfb\u7edf\u65f6\u95f4\u53ef\u80fd\u548c\u4e2d\u56fd\u65f6\u533a\u4e0d\u4e00\u81f4\uff0c\u4fee\u6539\u5982\u4e0b\u5730\u65b9"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{children:"# vim /etc/crontab\nCRON_TZ=Asia/Shanghai\nTZ=Asia/Shanghai\n"})}),"\n",(0,c.jsx)(e.p,{children:"\u91cd\u542f\u670d\u52a1"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"service crond restart\n"})}),"\n",(0,c.jsx)(e.h2,{id:"\u53c2\u8003\u8d44\u6599",children:"\u53c2\u8003\u8d44\u6599"}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.a,{href:"https://www.runoob.com/linux/linux-comm-crontab.html",children:"\u83dc\u9e1f\u6559\u7a0b\uff1aLinux crontab \u547d\u4ee4"})}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.a,{href:"https://www.cnblogs.com/ftl1012/p/crontab.html",children:"\u5c0fa\u7396\u62fe\u67d2\uff1aLinux crontab\u547d\u4ee4\u8be6\u89e3"})})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,c.jsx)(e,{...n,children:(0,c.jsx)(a,{...n})}):a(n)}},28453:(n,e,r)=>{r.d(e,{R:()=>l,x:()=>o});var c=r(96540);const s={},i=c.createContext(s);function l(n){const e=c.useContext(i);return c.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:l(n.components),c.createElement(i.Provider,{value:e},n.children)}}}]);