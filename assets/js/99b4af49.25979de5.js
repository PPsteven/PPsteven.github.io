"use strict";(self.webpackChunkcodepainter=self.webpackChunkcodepainter||[]).push([[1395],{57704:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>d});var c=r(74848),i=r(28453);const a={title:"Docker-cheetsheet",date:new Date("2019-12-31T17:09:15.000Z"),tags:["\u65e5\u5e38\u5b66\u4e60\u7b14\u8bb0","Docker"],categories:["cheetsheet"],top_img:null,comments:!1,cover:"https://cdn.jsdelivr.net/gh/PPsteven/pictures/img/20191123002607.png",toc:null,toc_number:null,copyright:null,slug:"/pages/3f6ec3/"},l=void 0,t={id:"\u6280\u672f\u7b14\u8bb0/Cheetsheet/Docker-cheetsheet",title:"Docker-cheetsheet",description:"\u6700\u8fd1\u5728\u5b9e\u4e60\u7684\u8fc7\u7a0b\u4e2d\uff0c\u9700\u8981\u5c06\u73b0\u6709\u7684\u670d\u52a1\u4e0a\u4e91\uff0c\u4f7f\u7528\u5230\u4e86\u5bb9\u5668\u5316\u7684\u64cd\u4f5c\u3002\u9700\u8981\u81ea\u5df1\u5236\u4f5cDockerfile\u6587\u4ef6\uff0c\u5b8c\u6210\u90e8\u7f72\u3002\u9274\u4e8e\u5bf9\u4e8edocker\u6280\u672f\u7684\u4e0d\u719f\u7ec3\uff0c\u7528\u4e86\u51e0\u5929\u65f6\u95f4\u597d\u597d\u628a\u8fd9\u4e2a\u77e5\u8bc6\u68b3\u7406\u4e86\u4e00\u4e0b\u3002",source:"@site/docs/01.\u6280\u672f\u7b14\u8bb0/20.Cheetsheet/01.Docker-cheetsheet.md",sourceDirName:"01.\u6280\u672f\u7b14\u8bb0/20.Cheetsheet",slug:"/pages/3f6ec3/",permalink:"/docs/pages/3f6ec3/",draft:!1,unlisted:!1,editUrl:"https://github.com/PPsteven/CodePainter/tree/master/docs/01.\u6280\u672f\u7b14\u8bb0/20.Cheetsheet/01.Docker-cheetsheet.md",tags:[{label:"\u65e5\u5e38\u5b66\u4e60\u7b14\u8bb0",permalink:"/docs/tags/\u65e5\u5e38\u5b66\u4e60\u7b14\u8bb0"},{label:"Docker",permalink:"/docs/tags/docker"}],version:"current",sidebarPosition:1,frontMatter:{title:"Docker-cheetsheet",date:"2019-12-31T17:09:15.000Z",tags:["\u65e5\u5e38\u5b66\u4e60\u7b14\u8bb0","Docker"],categories:["cheetsheet"],top_img:null,comments:!1,cover:"https://cdn.jsdelivr.net/gh/PPsteven/pictures/img/20191123002607.png",toc:null,toc_number:null,copyright:null,slug:"/pages/3f6ec3/"},sidebar:"techwiki",previous:{title:"Cheetsheet",permalink:"/docs/category/cheetsheet"},next:{title:"Git-cheetsheet",permalink:"/docs/pages/752e0b/"}},s={},d=[{value:"docker \u955c\u50cf",id:"docker-\u955c\u50cf",level:2},{value:"\u62c9\u53d6\u955c\u50cf",id:"\u62c9\u53d6\u955c\u50cf",level:3},{value:"\u5217\u51fa\u955c\u50cf",id:"\u5217\u51fa\u955c\u50cf",level:3},{value:"\u7ed9\u955c\u50cf\u52a0tag",id:"\u7ed9\u955c\u50cf\u52a0tag",level:3},{value:"\u67e5\u770b\u955c\u50cf",id:"\u67e5\u770b\u955c\u50cf",level:3},{value:"\u641c\u7d22\u955c\u50cf",id:"\u641c\u7d22\u955c\u50cf",level:3},{value:"\u79fb\u9664\u955c\u50cf",id:"\u79fb\u9664\u955c\u50cf",level:3},{value:"\u521b\u5efa\u955c\u50cf",id:"\u521b\u5efa\u955c\u50cf",level:3},{value:"1.commit \u57fa\u4e8e\u73b0\u6709\u5bb9\u5668\u521b\u5efa",id:"1commit-\u57fa\u4e8e\u73b0\u6709\u5bb9\u5668\u521b\u5efa",level:4},{value:"2.build \u57fa\u4e8eDockerfile\u521b\u5efa",id:"2build-\u57fa\u4e8edockerfile\u521b\u5efa",level:4},{value:"3. import \u57fa\u4e8e\u672c\u5730\u6a21\u677f\u5bfc\u5165",id:"3-import-\u57fa\u4e8e\u672c\u5730\u6a21\u677f\u5bfc\u5165",level:4},{value:"\u5b58\u51fa\u548c\u8f7d\u5165\u955c\u50cf",id:"\u5b58\u51fa\u548c\u8f7d\u5165\u955c\u50cf",level:3},{value:"\u4e0a\u4f20\u955c\u50cf push",id:"\u4e0a\u4f20\u955c\u50cf-push",level:3},{value:"1. \u767b\u5f55Docker Hub \u8d26\u53f7",id:"1-\u767b\u5f55docker-hub-\u8d26\u53f7",level:4},{value:"2.\u955c\u50cf\u52a0\u4e0atag",id:"2\u955c\u50cf\u52a0\u4e0atag",level:4},{value:"3.\u955c\u50cfpush",id:"3\u955c\u50cfpush",level:4},{value:"docker \u5bb9\u5668",id:"docker-\u5bb9\u5668",level:2},{value:"\u65b0\u5efa\u5bb9\u5668&amp;&amp;\u542f\u52a8\u5bb9\u5668",id:"\u65b0\u5efa\u5bb9\u5668\u542f\u52a8\u5bb9\u5668",level:3},{value:"docker create/start",id:"docker-createstart",level:4},{value:"docker run",id:"docker-run",level:4},{value:"\u6682\u505c\u7ec8\u6b62\u5bb9\u5668",id:"\u6682\u505c\u7ec8\u6b62\u5bb9\u5668",level:3},{value:"\u6682\u505c/\u6062\u590d\u5bb9\u5668",id:"\u6682\u505c\u6062\u590d\u5bb9\u5668",level:4},{value:"\u7ec8\u6b62/\u542f\u52a8\u5bb9\u5668",id:"\u7ec8\u6b62\u542f\u52a8\u5bb9\u5668",level:4},{value:"\u6e05\u9664\u5bb9\u5668",id:"\u6e05\u9664\u5bb9\u5668",level:3},{value:"prune",id:"prune",level:4},{value:"rm",id:"rm",level:4},{value:"\u91cd\u542f\u5bb9\u5668",id:"\u91cd\u542f\u5bb9\u5668",level:3},{value:"\u8fdb\u5165\u5bb9\u5668",id:"\u8fdb\u5165\u5bb9\u5668",level:3},{value:"attach",id:"attach",level:4},{value:"exec",id:"exec",level:4},{value:"\u5bfc\u5165/\u5bfc\u51fa\u5bb9\u5668",id:"\u5bfc\u5165\u5bfc\u51fa\u5bb9\u5668",level:3},{value:"\u67e5\u770b\u5bb9\u5668",id:"\u67e5\u770b\u5bb9\u5668",level:3},{value:"* \u5176\u4ed6\u5bb9\u5668\u547d\u4ee4",id:"-\u5176\u4ed6\u5bb9\u5668\u547d\u4ee4",level:3},{value:"docker cp \u590d\u5236\u6587\u4ef6",id:"docker-cp-\u590d\u5236\u6587\u4ef6",level:4},{value:"docker container \u547d\u4ee4\u5927\u5168",id:"docker-container-\u547d\u4ee4\u5927\u5168",level:3},{value:"docker \u5bb9\u5668\u5377",id:"docker-\u5bb9\u5668\u5377",level:2},{value:"\u6570\u636e\u5377(Data Volumes)",id:"\u6570\u636e\u5377data-volumes",level:3},{value:"mac\u7528\u6237\u5982\u4f55\u67e5\u770b\u6570\u636e\u5377\u5730\u5740",id:"mac\u7528\u6237\u5982\u4f55\u67e5\u770b\u6570\u636e\u5377\u5730\u5740",level:4},{value:"\u6570\u636e\u5377\u7684\u7c7b\u578b",id:"\u6570\u636e\u5377\u7684\u7c7b\u578b",level:4},{value:"\u6570\u636e\u5bb9\u5668(Data Volume Containers)",id:"\u6570\u636e\u5bb9\u5668data-volume-containers",level:3},{value:"\u6570\u636e\u5377\u9ad8\u7ea7\u7528\u6cd5\uff1a\u8fc1\u79fb\u6570\u636e",id:"\u6570\u636e\u5377\u9ad8\u7ea7\u7528\u6cd5\u8fc1\u79fb\u6570\u636e",level:3},{value:"\u7aef\u53e3\u6620\u5c04",id:"\u7aef\u53e3\u6620\u5c04",level:2},{value:"\u5bb9\u5668\u4e92\u8054",id:"\u5bb9\u5668\u4e92\u8054",level:3},{value:"\u5b9e\u7528\u6280\u5de7",id:"\u5b9e\u7528\u6280\u5de7",level:2},{value:"alpine \u5b89\u88c5telnet\u3001curl \u547d\u4ee4",id:"alpine-\u5b89\u88c5telnetcurl-\u547d\u4ee4",level:4},{value:"\u53c2\u8003\u8d44\u6599",id:"\u53c2\u8003\u8d44\u6599",level:2}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.p,{children:"\u6700\u8fd1\u5728\u5b9e\u4e60\u7684\u8fc7\u7a0b\u4e2d\uff0c\u9700\u8981\u5c06\u73b0\u6709\u7684\u670d\u52a1\u4e0a\u4e91\uff0c\u4f7f\u7528\u5230\u4e86\u5bb9\u5668\u5316\u7684\u64cd\u4f5c\u3002\u9700\u8981\u81ea\u5df1\u5236\u4f5cDockerfile\u6587\u4ef6\uff0c\u5b8c\u6210\u90e8\u7f72\u3002\u9274\u4e8e\u5bf9\u4e8edocker\u6280\u672f\u7684\u4e0d\u719f\u7ec3\uff0c\u7528\u4e86\u51e0\u5929\u65f6\u95f4\u597d\u597d\u628a\u8fd9\u4e2a\u77e5\u8bc6\u68b3\u7406\u4e86\u4e00\u4e0b\u3002"}),"\n",(0,c.jsxs)(n.p,{children:["\u5b89\u88c5\u548c\u57fa\u7840\u547d\u4ee4\u8be6\u89c1\u4e0a\u4e00\u7bc7\u6587\u7ae0  ",(0,c.jsx)(n.a,{href:"https://ppsteven.github.io/2019/11/21/Docker%E5%AE%89%E8%A3%85%E5%8F%8A%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/",children:"Docker\u5b89\u88c5\u53ca\u57fa\u7840\u547d\u4ee4"})]}),"\n",(0,c.jsx)(n.h2,{id:"docker-\u955c\u50cf",children:"docker \u955c\u50cf"}),"\n",(0,c.jsx)(n.h3,{id:"\u62c9\u53d6\u955c\u50cf",children:"\u62c9\u53d6\u955c\u50cf"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"$ docker pull alpine\n$ docker pull registry.hub.docker.com/alpine:latest \n"})}),"\n",(0,c.jsx)(n.p,{children:"\u6307\u5b9a\u9ed8\u8ba4\u7684\u4ed3\u5e93\u548c\u7248\u672c\u53f7"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"[root@VM_118_62_centos ~]# docker pull alpine\nUsing default tag: latest\nlatest: Pulling from library/alpine\ne6b0cf9c0882: Pull complete \nDigest: sha256:2171658620155679240babee0a7714f6509fae66898db422ad803b951257db78\nStatus: Downloaded newer image for alpine:latest\n"})}),"\n",(0,c.jsx)(n.h3,{id:"\u5217\u51fa\u955c\u50cf",children:"\u5217\u51fa\u955c\u50cf"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker images\ndocker image ls \n"})}),"\n",(0,c.jsx)(n.h3,{id:"\u7ed9\u955c\u50cf\u52a0tag",children:"\u7ed9\u955c\u50cf\u52a0tag"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker tag alpine test \u8d77\u5230\u4e86\u94fe\u63a5\u7684\u4f5c\u7528\n"})}),"\n",(0,c.jsx)(n.h3,{id:"\u67e5\u770b\u955c\u50cf",children:"\u67e5\u770b\u955c\u50cf"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:'docker inspect IMAGE # \u8fd4\u56dejson \u683c\u5f0f\ndocker inspect -f {{ ."DockerVersion"}}  IMAGE # \u4ee5GO \u6a21\u8303\u8fd4\u56de\u683c\u5f0f\u5316\u7684\u4fe1\u606f\n'})}),"\n",(0,c.jsx)(n.h3,{id:"\u641c\u7d22\u955c\u50cf",children:"\u641c\u7d22\u955c\u50cf"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"docker search IMAGE # \u641c\u7d22\u955c\u50cf\ndocker search --filter=starts=4 IMAGE # \u8fd4\u56de\u6536\u85cf\u8d85\u8fc74\u7684\u955c\u50cf\ndocker search --filter=is-official=true IMAGE # \u8fd4\u56de\u5b98\u65b9\u955c\u50cf\n"})}),"\n",(0,c.jsx)(n.h3,{id:"\u79fb\u9664\u955c\u50cf",children:"\u79fb\u9664\u955c\u50cf"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker rmi IMAGE # \u5220\u9664\u955c\u50cf\ndocker image rm IMAGE # \u5220\u9664\u955c\u50cf\ndocker image rm ubuntu:latest # \u5220\u9664\u6307\u5b9atag \u7684\u955c\u50cf\n-f --force # \u5f3a\u5236\u5220\u9664\n\ndocker image prune\n  -a, --all             Remove all unused images, not just dangling ones \uff08\u4e34\u65f6\u955c\u50cf\uff09\n      --filter filter   Provide filter values (e.g. 'until=<timestamp>')\n  -f, --force           Do not prompt for confirmation\n"})}),"\n",(0,c.jsx)(n.h3,{id:"\u521b\u5efa\u955c\u50cf",children:"\u521b\u5efa\u955c\u50cf"}),"\n",(0,c.jsx)(n.p,{children:"\u521b\u5efa\u955c\u50cf\u7684\u4e09\u79cd\u65b9\u5f0f\uff1acommit\u3001import\u3001build \u4e09\u4e2a\u5b50\u547d\u4ee4"}),"\n",(0,c.jsx)(n.h4,{id:"1commit-\u57fa\u4e8e\u73b0\u6709\u5bb9\u5668\u521b\u5efa",children:"1.commit \u57fa\u4e8e\u73b0\u6709\u5bb9\u5668\u521b\u5efa"}),"\n",(0,c.jsx)(n.p,{children:"docker run -it alpine /bash/sh"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"# add a new file to this container \n[root@VM_118_62_centos ~]# docker run -it alpine /bin/sh  \n/ # touch text\n/ # exit\n"})}),"\n",(0,c.jsx)(n.p,{children:'docker [container] commit -m "add a new file" -a "johnjhwang"  CONTAINER'}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\u6ce8\uff1a\u65b9\u62ec\u53f7\u4e2d\u7684 container \u662f\u53ef\u4ee5\u7701\u7565\u4e0d\u5199\u7684\u3002\u8fd9\u91cc\u6307\u51fa\u662f\u8bf4\u660ecommit \u8fd9\u4e2a\u547d\u4ee4\u662f \u5bb9\u5668\u76f8\u5173\u7684\u547d\u4ee4\n\u6bd4\u8f83\u5efa\u8bae\u5199\u5168\uff0c\u6bd4\u5982rm \u5728image \u548c container \u4e2d\u90fd\u6709\uff0c\u907f\u514d\u6b67\u4e49"}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"-m: \u8868\u793a Comment  -a: \u8868\u793a Author"}),"\n",(0,c.jsx)(n.p,{children:"\u7531\u4e8e\u662f\u6dfb\u52a0\u4e86\u4e00\u4e2a\u6587\u4ef6\uff0c\u6240\u4ee5\u955c\u50cf\u7684 IAMGE ID \u53d1\u751f\u4e86\u53d8\u5316"}),"\n",(0,c.jsx)(n.p,{children:"\u5f53\u6211\u4eec\u67e5\u770b\u65b0\u7684\u955c\u50cf\u7684\u65f6\u5019\uff0c\u80fd\u770b\u5230\u6211\u4eec\u540e\u7eed\u8ffd\u52a0\u7684\u4fe1\u606f\u3002"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:'[root@VM_118_62_centos ~]# docker inspect 764a657de081\n[\n    {\n        "Id": "sha256:764a657de08117c11b3af9720efe2310386fa99074802ad13f68973081972819",\n        "Parent": "sha256:cc0abc535e36a7ede71978ba2bbd8159b8a5420b91f2fbc520cdf5f673640a34",\n        "Comment": "add a  new file ",\n       ......\n        "Author": "johnjhwang",\n       ......\n      }\n]\n'})}),"\n",(0,c.jsx)(n.h4,{id:"2build-\u57fa\u4e8edockerfile\u521b\u5efa",children:"2.build \u57fa\u4e8eDockerfile\u521b\u5efa"}),"\n",(0,c.jsx)(n.p,{children:"\u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6Dockerfile"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\u6587\u4ef6\u540d\u9ed8\u8ba4\u4f1f\u662fDockerfile\uff0c\u6216-f \u6307\u5b9a\u81ea\u5b9a\u4e49\u540d\u79f0\u7684dockerfile"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-dockerfile",children:"# Dockerfile\nFROM ubuntu:latest\nLABEL version='1.0' maintainer='johnjhwang@tencent.com'\nRUN apt-get update &&\\\n    apt-get install -y python3 \\\n    apt-get clean\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker [image] build -t python:3 .(\u5c0f\u6570\u70b9:\u8fd9\u662f\u4e0a\u4e0b\u6587\u73af\u5883\u4e3a\u5f53\u524d\u76ee\u5f55)\n"})}),"\n",(0,c.jsxs)(n.p,{children:["python \u662f\u955c\u50cf\u540d\uff0c3\u662f\u7248\u672c\u53f7\uff0c\u5982 ",(0,c.jsx)(n.code,{children:"test1:v1"})," \u3001",(0,c.jsx)(n.code,{children:"nginx:v2"})," \u7b49\uff0c\u6ce8\u610f\uff0c\u6700\u540e\u6709\u4e00\u4e2a\u70b9\uff0c\u4ee3\u8868\u7684\u662f\u4e0a\u4e0b\u6587\u73af\u5883(\u5f53\u524d\u76ee\u5f55) \u3002"]}),"\n",(0,c.jsx)(n.h4,{id:"3-import-\u57fa\u4e8e\u672c\u5730\u6a21\u677f\u5bfc\u5165",children:"3. import \u57fa\u4e8e\u672c\u5730\u6a21\u677f\u5bfc\u5165"}),"\n",(0,c.jsx)(n.p,{children:"// TO DO"}),"\n",(0,c.jsx)(n.h3,{id:"\u5b58\u51fa\u548c\u8f7d\u5165\u955c\u50cf",children:"\u5b58\u51fa\u548c\u8f7d\u5165\u955c\u50cf"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"docker [image] save -o ubuntu_18.04.tar ubuntu:18.04 # \u672c\u5730\u4f1a\u51fa\u73b0ubuntu_18.04.tar \u6587\u4ef6\ndocker [image] load -i ubuntu_18.04.tar # \u5bfc\u5165\u672c\u5730\u7684\u6587\u4ef6\uff0c\u4e4b\u540e\u67e5\u770b\u955c\u50cf\u5e93\uff0c\u53d1\u73b0\u51fa\u73b0\u4e86\u8be5\u955c\u50cf\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u7528\u66f4\u52a0\u7b80\u4fbf\u7684\u5199\u6cd5"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"docker save alpine > alpine.tar\ndocker load alpine < alpine.tar\n"})}),"\n",(0,c.jsx)(n.h3,{id:"\u4e0a\u4f20\u955c\u50cf-push",children:"\u4e0a\u4f20\u955c\u50cf push"}),"\n",(0,c.jsx)(n.h4,{id:"1-\u767b\u5f55docker-hub-\u8d26\u53f7",children:"1. \u767b\u5f55Docker Hub \u8d26\u53f7"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"docker login artifactory.xxx.works\n"})}),"\n",(0,c.jsx)(n.h4,{id:"2\u955c\u50cf\u52a0\u4e0atag",children:"2.\u955c\u50cf\u52a0\u4e0atag"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"docker [image] tag monitor-kit:v0.1 artifactory.xxx.works/docker-xxx/cla/labelling-platform/monitor-kit:v0.2\n"})}),"\n",(0,c.jsx)(n.h4,{id:"3\u955c\u50cfpush",children:"3.\u955c\u50cfpush"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"docker push artifactory.xxx.works/docker-xxx/cla/labelling-platform/monitor-kit:v0.2\n"})}),"\n",(0,c.jsx)(n.h2,{id:"docker-\u5bb9\u5668",children:"docker \u5bb9\u5668"}),"\n",(0,c.jsx)(n.h3,{id:"\u65b0\u5efa\u5bb9\u5668\u542f\u52a8\u5bb9\u5668",children:"\u65b0\u5efa\u5bb9\u5668&&\u542f\u52a8\u5bb9\u5668"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"create\u3001start\u3001run"}),"\n"]}),"\n",(0,c.jsx)(n.h4,{id:"docker-createstart",children:"docker create/start"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker [container] create -it alpine # \u7528create\u521b\u5efa\u7684\u5bb9\u5668\u5904\u4e8e\u505c\u6b62\u72b6\u6001 Created \uff0c\u52a0-it \u4f7f\u7528\u7684\u662f\u9ed8\u8ba4\u7684sh\ndocker [container] start CONTAINER # \u8fd0\u884c\u540e\u7684\u5bb9\u5668\u72b6\u6001\u8f6c\u4e3a Up\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u67e5\u770b\u72b6\u6001"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:'[root@VM_118_62_centos ~/desktop]# docker start 77a32260848\n[root@VM_118_62_centos ~/desktop]# docker ps\nCONTAINER ID   IMAGE  COMMAND  CREATED   STATUS   PORTS   NAMES\n77a32260848e     alpine  "/bin/sh" 2 minutes ago  Up 5 seconds       naughty_lamport\n'})}),"\n",(0,c.jsx)(n.p,{children:"\u8fd8\u6709\u4e00\u4e2a\u66f4\u52a0\u65b9\u4fbf\u7684\u542f\u52a8\u65b9\u5f0f\uff0c\u7b49\u4ef7\u4e8e \u5148\u6267\u884ccreate \u540e\u6267\u884c start"}),"\n",(0,c.jsx)(n.h4,{id:"docker-run",children:"docker run"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker [container] run -it alpine /bin/sh\n -t, --tty                            Allocate a pseudo-TTY \u5206\u914d\u4e00\u4e2a\u4f2a\u7ec8\u7aef\n -i, --interactive                    Keep STDIN open even if not attached  \u6807\u51c6\u8f93\u5165\u4fdd\u6301\u6253\u5f00\n -d, --detach                         Run container in background and print container ID\n"})}),"\n",(0,c.jsx)(n.h3,{id:"\u6682\u505c\u7ec8\u6b62\u5bb9\u5668",children:"\u6682\u505c\u7ec8\u6b62\u5bb9\u5668"}),"\n",(0,c.jsx)(n.h4,{id:"\u6682\u505c\u6062\u590d\u5bb9\u5668",children:"\u6682\u505c/\u6062\u590d\u5bb9\u5668"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\u72b6\u6001\u53d8\u4e3a\uff1a  Up  (Paused)"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker [container] pause/unpause CONTAINER\n"})}),"\n",(0,c.jsx)(n.h4,{id:"\u7ec8\u6b62\u542f\u52a8\u5bb9\u5668",children:"\u7ec8\u6b62/\u542f\u52a8\u5bb9\u5668"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"stop\u3001kill\u3001\u8fd0\u884c\u7ed3\u675f\u4f1a\u4f7f\u5bb9\u5668\u72b6\u6001\u53d8\u4e3a\uff1a Exited"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker [container] stop/start CONTAINER\n   -t, --time int   Seconds to wait for stop before killing it (default 10)\n\ndocker [container] kill  CONTAINER\n"})}),"\n",(0,c.jsx)(n.p,{children:"stop \u662f\u4e3b\u52a8\u5411\u5bb9\u5668\u53d1\u9001 SIGTERM \u4fe1\u53f7\uff0c\u7b49\u5f85\u4e00\u6bb5\u65f6\u5019\u540e\uff0c\u518d\u53d1\u9001SIGKILL\u4fe1\u53f7\u6765\u7ec8\u6b62\u5bb9\u5668\u3002\nkill \u662f\u76f4\u63a5\u53d1\u9001SIGKILL\u4fe1\u53f7\u53bb\u7ec8\u6b62\u5bb9\u5668\u3002"}),"\n",(0,c.jsx)(n.p,{children:"\u6709\u4e00\u79cd\u60c5\u51b5\uff0c\u5f53\u5bb9\u5668\u8fd0\u884c\u7ed3\u675f\u540e\uff0c\u72b6\u6001\u4e5f\u4f1a\u53d8\u4e3aExited"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"[root@VM_118_62_centos ~]# docker attach test\n/ # ps\nPID   USER     TIME  COMMAND\n    1 root      0:00 /bin/sh\n    6 root      0:00 ps\n/ # exit  // \u9000\u51fa\u540e\u5bb9\u5668\u4f1a\u7ec8\u6b62\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u53ef\u4ee5\u770b\u5230\u5bb9\u5668\u4e2d\u53ea\u6709 /bin/sh \u547d\u4ee4\u8fd0\u884c\uff0c\u6b64\u65f6\u4f7f\u7528 exit \u6216\u8005 ctrl+d \u9000\u51fa\u5bb9\u5668\uff0c\u8be5\u5bb9\u5668\u4f1a\u7ec8\u6b62"}),"\n",(0,c.jsx)(n.h3,{id:"\u6e05\u9664\u5bb9\u5668",children:"\u6e05\u9664\u5bb9\u5668"}),"\n",(0,c.jsx)(n.h4,{id:"prune",children:"prune"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker container prune  # Remove all stopped containers\n  -f, --force           Do not prompt for confirmation\n"})}),"\n",(0,c.jsx)(n.h4,{id:"rm",children:"rm"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker container rm \\<CONTAINER ID> # Remove one or more containers\n  -f, --force     Force the removal of a running container (uses SIGKILL)\n  -l, --link      Remove the specified link\n  -v, --volumes   Remove the volumes associated with the container\n"})}),"\n",(0,c.jsx)(n.h3,{id:"\u91cd\u542f\u5bb9\u5668",children:"\u91cd\u542f\u5bb9\u5668"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\u5148\u505c\u6b62\u5bb9\u5668\u540e\u91cd\u542f\u5bb9\u5668"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker restart CONTAINER\n"})}),"\n",(0,c.jsx)(n.h3,{id:"\u8fdb\u5165\u5bb9\u5668",children:"\u8fdb\u5165\u5bb9\u5668"}),"\n",(0,c.jsx)(n.h4,{id:"attach",children:"attach"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker attach CONTAINER\n"})}),"\n",(0,c.jsx)(n.h4,{id:"exec",children:"exec"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"exec \u76f8\u8f83\u4e8e attach \u7684\u4f18\u52bf\u662f\u53ef\u4ee5\u5728\u8fd0\u884c\u7684\u5bb9\u5668\u5185\u6267\u884c\u4efb\u610f\u547d\u4ee4\nRun a command in a running container"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker exec -it  CONTAINER /bin/sh\n            --detach-keys string   Override the key sequence for detaching a container\n                                  // \u91cd\u8f7d\u9000\u51fa\u5bb9\u5668\u7684\u65b9\u6cd5,\u9ed8\u8ba4\u662fctrl+q\n            -e, --env list             Set environment variables\n            -u, --user string          Username or UID (format: <name|uid>[:<group|gid>])\n            -w, --workdir string       Working directory inside the container\n"})}),"\n",(0,c.jsx)(n.h3,{id:"\u5bfc\u5165\u5bfc\u51fa\u5bb9\u5668",children:"\u5bfc\u5165/\u5bfc\u51fa\u5bb9\u5668"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"docker [container] export -o test.tar test \ndocker [image] import test.tar test01/test02:v1.0\n"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\u6ce8\u610f: docker export \u662f container \u4e0b\u7684\u65b9\u6cd5\ndocker import \u662f image \u4e0b\u7684\u65b9\u6cd5\uff0c\u4e0d\u8981\u4ee5\u4e3aimport \u540e\u5bfc\u5165\u5230\u7684\u5bb9\u5668\u5e93\u3002"}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"\u53ef\u4ee5\u770b\u5230 docker [image] save  \u548c dokcer [image] load \u662f\u4e00\u5bf9\uff0cdocker [container] export \u548c docker [image] import \u662f\u4e00\u5bf9\u3002\u4f46\u662f load \u548c import \u540c\u6837\u90fd\u662f\u5bfc\u5165\u5230\u955c\u50cf\u5e93\uff0c\u533a\u522b\u5728\u4ec0\u4e48\u5730\u65b9?"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"docker save images_name"}),"\uff1a\u5c06\u4e00\u4e2a\u955c\u50cf\u5bfc\u51fa\u4e3a\u6587\u4ef6\uff0c\u518d\u4f7f\u7528",(0,c.jsx)(n.code,{children:"docker load"}),"\u547d\u4ee4\u5c06\u6587\u4ef6\u5bfc\u5165\u4e3a\u4e00\u4e2a\u955c\u50cf\uff0c\u4f1a\u4fdd\u5b58\u8be5\u955c\u50cf\u7684\u7684\u6240\u6709\u5386\u53f2\u8bb0\u5f55\u3002\u6bd4",(0,c.jsx)(n.code,{children:"docker export"}),"\u547d\u4ee4\u5bfc\u51fa\u7684\u6587\u4ef6\u5927\uff0c\u5f88\u597d\u7406\u89e3\uff0c\u56e0\u4e3a\u4f1a\u4fdd\u5b58\u955c\u50cf\u7684\u6240\u6709\u5386\u53f2\u8bb0\u5f55\u3002"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"docker export container_id"}),"\uff1a\u5c06\u4e00\u4e2a\u5bb9\u5668\u5bfc\u51fa\u4e3a\u6587\u4ef6\uff0c\u518d\u4f7f\u7528",(0,c.jsx)(n.code,{children:"docker import"}),"\u547d\u4ee4\u5c06\u5bb9\u5668\u5bfc\u5165\u6210\u4e3a\u4e00\u4e2a\u65b0\u7684\u955c\u50cf\uff0c\u4f46\u662f\u76f8\u6bd4",(0,c.jsx)(n.code,{children:"docker save"}),"\u547d\u4ee4\uff0c\u5bb9\u5668\u6587\u4ef6\u4f1a\u4e22\u5931\u6240\u6709\u5143\u6570\u636e\u548c\u5386\u53f2\u8bb0\u5f55\uff0c\u4ec5\u4fdd\u5b58\u5bb9\u5668\u5f53\u65f6\u7684\u72b6\u6001\uff0c\u76f8\u5f53\u4e8e\u865a\u62df\u673a\u5feb\u7167\u3002"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"\u67e5\u770b\u5bb9\u5668",children:"\u67e5\u770b\u5bb9\u5668"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"docker [container] inspect CONTAINRER\ndocker [container] top CONTAINER  # \u663e\u793adocker \u5185\u8fd0\u884c\u7684\u8fdb\u7a0b\t\ndocker [container] stats CONTAINER # \u663e\u793adocker\u7684\u72b6\u6001\uff0cCPU\uff0c\u5185\u5b58\uff0c\u5b58\u50a8\uff0c\u7f51\u7edc\u7b49\u5b9e\u65f6\u76d1\u63a7\n"})}),"\n",(0,c.jsx)(n.h3,{id:"-\u5176\u4ed6\u5bb9\u5668\u547d\u4ee4",children:"* \u5176\u4ed6\u5bb9\u5668\u547d\u4ee4"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\u5236\u4f5cDockerfile\u6240\u9700\u638c\u63e1\u7684\u547d\u4ee4"}),"\n"]}),"\n",(0,c.jsx)(n.h4,{id:"docker-cp-\u590d\u5236\u6587\u4ef6",children:"docker cp \u590d\u5236\u6587\u4ef6"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"Usage:  docker cp [OPTIONS] CONTAINER:SRC_PATH DEST_PATH|-\n        docker cp [OPTIONS] SRC_PATH|- CONTAINER:DEST_PATH\n# FROM \u5de6 TO \u53f3\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.code,{children:"docker [container] cp data test:/temp"})}),"\n",(0,c.jsx)(n.p,{children:"\u8fd9\u662f\u5c06\u672c\u5730\u8def\u5f84\u4e0b\u7684 data \u590d\u5236\u5230 test \u5bb9\u5668\u7684/temp \u8def\u5f84\u4e0b\uff0c\u6ce8\u610f\u53ea\u662f\u590d\u5236\u6587\u4ef6\u5185\u5bb9\uff0c\u4e0d\u6ca1\u6709\u5305\u542b\u6587\u4ef6\u5939\u3002"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.code,{children:"docker [container] cp data test:/temp/data"})}),"\n",(0,c.jsx)(n.p,{children:"\u8fd9\u6837\u624d\u662f\u628adata\u6587\u4ef6\u5939\u79fb\u5230\u4e86\u76ee\u6807\u5bb9\u5668\u7684\u6587\u4ef6\u5939\u4e0b"}),"\n",(0,c.jsx)(n.h3,{id:"docker-container-\u547d\u4ee4\u5927\u5168",children:"docker container \u547d\u4ee4\u5927\u5168"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"  attach      Attach local standard input, output, and error streams to a running container\n  commit      Create a new image from a container's changes\n  cp          Copy files/folders between a container and the local filesystem\n  create      Create a new container\n  diff        Inspect changes to files or directories on a container's filesystem\n  exec        Run a command in a running container\n  export      Export a container's filesystem as a tar archive\n  inspect     Display detailed information on one or more containers\n  kill        Kill one or more running containers\n  logs        Fetch the logs of a container\n  ls          List containers\n  pause       Pause all processes within one or more containers\n  port        List port mappings or a specific mapping for the container\n  prune       Remove all stopped containers\n  rename      Rename a container\n  restart     Restart one or more containers\n  rm          Remove one or more containers\n  run         Run a command in a new container\n  start       Start one or more stopped containers\n  stats       Display a live stream of container(s) resource usage statistics\n  stop        Stop one or more running containers\n  top         Display the running processes of a container\n  unpause     Unpause all processes within one or more containers\n  update      Update configuration of one or more containers\n  wait        Block until one or more containers stop, then print their exit codes\n"})}),"\n",(0,c.jsx)(n.h2,{id:"docker-\u5bb9\u5668\u5377",children:"docker \u5bb9\u5668\u5377"}),"\n",(0,c.jsx)(n.p,{children:"\u672c\u7ae0\u4e0d\u518d\u8be6\u8ff0\u547d\u4ee4\u7ec6\u8282\uff0c\u53ea\u5173\u6ce8\u4e8e\u5e38\u7528\u547d\u4ee4"}),"\n",(0,c.jsx)(n.p,{children:"\u5bb9\u5668\u4e2d\u5bf9\u6570\u636e\u8fdb\u884c\u6301\u4e45\u5316\u7684\u64cd\u4f5c\uff0c\u9700\u8981\u501f\u52a9\u6570\u636e\u7ba1\u7406\u64cd\u4f5c\u3002"}),"\n",(0,c.jsx)(n.p,{children:"\u4e00\u822c\u6709\u4e24\u79cd\u7ba1\u7406\u65b9\u5f0f:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Data Volumes"}),"\n",(0,c.jsx)(n.li,{children:"Data Volume Containers"}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"\u6570\u636e\u5377data-volumes",children:"\u6570\u636e\u5377(Data Volumes)"}),"\n",(0,c.jsx)(n.p,{children:"\u521b\u5efa\u4e00\u4e2a\u672c\u5730\u6570\u636e\u5377"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:'docker volume create -d local --name haha\n    -d, --driver string   Specify volume driver name (default "local") \n    --name \u91cd\u547d\u540d\n'})}),"\n",(0,c.jsx)(n.p,{children:"docker volumn create \u521b\u5efa\u5b8c\u6210\u7684\u6570\u636e\u5377\u662f\u5728 /var/lib/docker/volumes \u4e0b\u7684\uff0c\u53ef\u4ee5\u901a\u8fc7 ls \uff08\u67e5\u770b\uff09 inspect(\u8be6\u7ec6\u4fe1\u606f) prune \u548c rm \u53bb\u505a\u8fdb\u4e00\u6b65\u7684\u64cd\u4f5c\u3002"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"$ docker volume ls\nDRIVER              VOLUME NAME\nlocal               haha\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u8fd9\u91ccmac\u9700\u8981\u6ce8\u610f\uff0c\u56e0\u4e3a\u5728mac\u4e0a\u7528docker\u4f1a\u5728mac\u4e0a\u542f\u52a8\u4e00\u4e2a\u865a\u62df\u673a\u8fd0\u884cdocker\uff0c\u56e0\u6b64volume\u521b\u5efa\u7684directory\u5e76\u4e0d\u5728\u4f60\u7684machine\u4e0a\uff0c\u800c\u662f\u5728\u865a\u62df\u673a\u4e2d\u3002"}),"\n",(0,c.jsx)(n.h4,{id:"mac\u7528\u6237\u5982\u4f55\u67e5\u770b\u6570\u636e\u5377\u5730\u5740",children:"mac\u7528\u6237\u5982\u4f55\u67e5\u770b\u6570\u636e\u5377\u5730\u5740"}),"\n",(0,c.jsxs)(n.p,{children:["\u5982\u4f55\u8fdb\u5165mac\u4e0a\u7684\u865a\u62df\u673a\u7684\u529e\u6cd5\u8bf7\u53c2\u8003\uff1a",(0,c.jsx)(n.a,{href:"https://www.jianshu.com/p/1baeabdd0e27",children:"\u8fd9\u7bc7\u6559\u7a0b"})]}),"\n",(0,c.jsxs)(n.p,{children:["\u5177\u4f53\u7684\u505a\u6cd5\u662f\u6267\u884c\uff1a",(0,c.jsx)(n.code,{children:"screen ~/Library/Containers/com.docker.docker/Data/vms/0/tty"})]}),"\n",(0,c.jsxs)(n.p,{children:["\u7136\u540e\u67e5\u770b",(0,c.jsx)(n.code,{children:"/var/lib/docker/volumes"}),"\u91cc\u9762\u7684\u5bb9\u5668"]}),"\n",(0,c.jsx)(n.h4,{id:"\u6570\u636e\u5377\u7684\u7c7b\u578b",children:"\u6570\u636e\u5377\u7684\u7c7b\u578b"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"volume : \u666e\u901a\u6570\u636e\u5377\uff0c\u6620\u5c04\u5230 /var/lib/docker/volumes\u4e0b"}),"\n",(0,c.jsx)(n.li,{children:"bind: \u7ed1\u5b9a\u6570\u636e\u5377\uff0c\u662f\u81ea\u5df1\u5236\u5b9a\u7684\u76ee\u5f55"}),"\n",(0,c.jsx)(n.li,{children:"tmpfs: \u4e34\u65f6\u6570\u636e\u5377\uff0c\u53ea\u5b58\u5728\u4e8e\u5185\u5b58\u4e2d\uff0c\u76ee\u524d\u6ca1\u6709\u4f7f\u7528\u8fc7"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker run -d --name test --mount type=bind,source=/mydata,destination=/opt/mydata CONTAINER COMMAND\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u8fd9\u53e5\u8bdd\u662f\u7ed1\u5b9a\u5f53\u524d\u76ee\u5f55\u4e0b\u7684mydata\u6587\u4ef6\u5939\u81f3docker\u5bb9\u5668\u4e0b\u7684/opt/mydata\u6587\u4ef6\u5939"}),"\n",(0,c.jsx)(n.p,{children:"\u8fd8\u6709\u4e00\u4e2a\u7b80\u6d01\u7684\u65b9\u5f0f -v"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker run -d --name test -v /mydata:/opt/mydata CONTAINER COMMAND\n"})}),"\n",(0,c.jsx)(n.h3,{id:"\u6570\u636e\u5bb9\u5668data-volume-containers",children:"\u6570\u636e\u5bb9\u5668(Data Volume Containers)"}),"\n",(0,c.jsxs)(n.p,{children:["\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u5377\u5bb9\u5668\uff0c\u8d77\u522b\u540d dbtest\uff0c\u5e76\u6302\u8f7d ",(0,c.jsx)(n.code,{children:" ~/Desktop/dbfile"})," \u5230\u5f53\u524d\u5bb9\u5668"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker run -it --name dbtest -v ~/Desktop/dbfile:/dbfile alpine:latest\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u7136\u540e\uff0c\u53ef\u4ee5\u5728\u5176\u4ed6\u5bb9\u5668\u4e2d\u4f7f\u7528 --volumes-from \u6302\u8f7ddbtest \u4e2d\u7684\u6570\u636e\u5377"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker run -it --name db1 --volumes-from dbtest alpine\ndocker run -it --name db2 --volumes-from dbtest alpine\n"})}),"\n",(0,c.jsx)(n.h3,{id:"\u6570\u636e\u5377\u9ad8\u7ea7\u7528\u6cd5\u8fc1\u79fb\u6570\u636e",children:"\u6570\u636e\u5377\u9ad8\u7ea7\u7528\u6cd5\uff1a\u8fc1\u79fb\u6570\u636e"}),"\n",(0,c.jsx)(n.p,{children:"\u6570\u636e\u7684\u8fc1\u79fb\u6709\u4e24\u6b65\u6784\u6210\uff1a\u5907\u4efd+\u8fc1\u79fb"}),"\n",(0,c.jsx)(n.p,{children:"\u9996\u5148\u6211\u4eec\u4f7f\u7528\u4e86\u4e0a\u9762\u5efa\u7acb\u597d\u7684 dbtest \u6570\u636e\u5377\u5bb9\u5668\uff0c\u8be5\u5bb9\u5668\u548c ~/Desktop/dbfile \u7ed1\u5b9a\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u6211\u4eec\u9700\u8981\u4fdd\u5b58\u7684\u91cd\u8981\u7684\u6570\u636e\u3002"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"\u5907\u4efd"})}),"\n",(0,c.jsx)(n.p,{children:"docker run --volumes-from dbtest -v $(pwd):/backup --name worker alpine tar cvf /backup/backup.tar /dbfile"}),"\n",(0,c.jsx)(n.p,{children:"\u8fd9\u91cc\u6211\u4eec\u628a\u7ed1\u5b9a\u7684\u672c\u5730\u548c\u5bb9\u5668\u5185\u7684/backup\u7ed1\u5b9a\uff0c\u6240\u4ee5\u6211\u4eec\u7528\u538b\u7f29\u65b9\u6cd5\uff0c\u628adbfile \u5185\u7684\u6570\u636e\u6253\u5305\u653e\u5165\u4e86/backup\u6587\u4ef6\u5939\u4e2d\uff0c\u76f4\u89c2\u7684\u6765\u8bf4\uff0c\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u4f1a\u770b\u5230backup.tar \u6587\u4ef6\u3002"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"\u8fc1\u79fb"})}),"\n",(0,c.jsx)(n.p,{children:"\u5148\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6570\u636e\u5377\u5bb9\u5668dbtest2"}),"\n",(0,c.jsx)(n.p,{children:"docker run -v  ~/Desktop/dbfile2:/dbfile --name dbtest2  alpine"}),"\n",(0,c.jsx)(n.p,{children:"\u521b\u5efa\u65b0\u5bb9\u5668\uff0c\u6302\u8f7ddbtest2\u7684\u5bb9\u5668\uff0c\u5e76\u4f7f\u7528untar\u89e3\u538b\u653e\u5728/backup/backup.tar \u6587\u4ef6"}),"\n",(0,c.jsx)(n.p,{children:"docker run --volumes-from dbtest2 -v $(pwd):/backup --name worker2 ubuntu tar xvf  /backup/backup.tar"}),"\n",(0,c.jsx)(n.p,{children:"docker"}),"\n",(0,c.jsx)(n.h2,{id:"\u7aef\u53e3\u6620\u5c04",children:"\u7aef\u53e3\u6620\u5c04"}),"\n",(0,c.jsx)(n.p,{children:"\u542f\u52a8\u4e00\u4e2aweb\u670d\u52a1"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"docker run -d -P straining/webapp python app.py  // \u968f\u673a\u6620\u5c04\u7aef\u53e3\uff0c49000~49900\u5230\u5bb9\u5668\u5185\u90e8\u7aef\u53e3\ndocker run -d -p 5000:5000 training/webapp python app.py// HostPort:ContainerPort\ndocker run -d -p 127.0.0.1:5000:5000 training/webapp python app.py// IP:HostPort:ContainerPort\ndocker run -d -p 127.0.0.1::5000 training/webapp python app.py // \u81ea\u52a8\u5206\u914d\u4e00\u4e2a\u7aef\u53e3\ndocker run -d -p 127.0.0.1::5000/udp training/webapp python app.py // \u5236\u5b9aUDP\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u7a0d\u540e\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u6620\u5c04\u7ed3\u679c\uff08\u4e0b\u9762\u662f\u4e3e\u4f8b\uff09"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"127.0.0.1:32768->5000/tcp \n0.0.0.0:3306->3306/tcp\n127.0.0.1:32768->5000/udp\n"})}),"\n",(0,c.jsx)(n.h3,{id:"\u5bb9\u5668\u4e92\u8054",children:"\u5bb9\u5668\u4e92\u8054"}),"\n",(0,c.jsx)(n.p,{children:"--link name:alias\nname:\u8fde\u63a5\u7684\u5bb9\u5668 alias \u5bb9\u5668\u7684\u522b\u540d"}),"\n",(0,c.jsx)(n.p,{children:"\u5bb9\u5668\u95f4\u7684\u4e92\u8054\u662f\u4e00\u4e2a\u6bd4\u8f83\u91cd\u8981\u7684\u77e5\u8bc6\u70b9\uff0c\u540e\u7eed\u4f1a\u5199\u4e00\u7bc7\u535a\u5ba2\u5b8c\u5584"}),"\n",(0,c.jsx)(n.h2,{id:"\u5b9e\u7528\u6280\u5de7",children:"\u5b9e\u7528\u6280\u5de7"}),"\n",(0,c.jsx)(n.h4,{id:"alpine-\u5b89\u88c5telnetcurl-\u547d\u4ee4",children:"alpine \u5b89\u88c5telnet\u3001curl \u547d\u4ee4"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-dockerfile",children:"# \u955c\u50cf\u52a0\u901f,\u5c06\u539f\u88c5\u7684alpine\u5e93\u66ff\u6362\u6210\u56fd\u5185\u7684ustc\u5e93\nsed -i 's/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g' /etc/apk/repositories\t\n# apk\u5e93\u66f4\u65b0\t\napk update\t\n# \u5b89\u88c5ping\t\napk add curl\t\n# \u5b89\u88c5telnet\t\napk add busybox-extras\t\n# \u5168\u90e8\u5b89\u88c5\t\nsed -i 's/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g' /etc/apk/repositories && apk update && apk add curl && apk add busybox-extras\t\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u4f7f\u7528\u65b9\u6cd5"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"curl http://127.0.0.1:8888/test\ntelnet 127.0.0.1 8888\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\u53c2\u8003\u8d44\u6599",children:"\u53c2\u8003\u8d44\u6599"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.a,{href:"https://www.cnblogs.com/Cherry-Linux/p/8025777.html",children:"docker load\u4e0edocker import"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(o,{...e})}):o(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>t});var c=r(96540);const i={},a=c.createContext(i);function l(e){const n=c.useContext(a);return c.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),c.createElement(a.Provider,{value:n},e.children)}}}]);