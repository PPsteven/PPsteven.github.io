"use strict";(self.webpackChunkcodepainter=self.webpackChunkcodepainter||[]).push([[7332],{88524:(e,n,d)=>{d.r(n),d.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>a});var t=d(74848),o=d(28453);const i={title:"138. \u590d\u5236\u5e26\u968f\u673a\u6307\u9488\u7684\u94fe\u8868(Medium)",date:new Date("2020-08-07T15:53:00.000Z"),cover:"https://cdn.jsdelivr.net/gh/PPsteven/pictures/img/20201014134505.png",slug:"/pages/7a0c45/",categories:["\u6570\u636e\u7ed3\u6784","\u94fe\u8868"]},s=void 0,r={id:"\u9762\u8bd5\u6280\u5de7/\u6570\u636e\u7ed3\u6784/\u94fe\u8868/\u590d\u5236\u5e26\u968f\u673a\u6307\u9488\u7684\u94fe\u8868.138",title:"138. \u590d\u5236\u5e26\u968f\u673a\u6307\u9488\u7684\u94fe\u8868(Medium)",description:"\u9898\u76ee\u63cf\u8ff0",source:"@site/docs/02.\u9762\u8bd5\u6280\u5de7/03.\u6570\u636e\u7ed3\u6784/01.\u94fe\u8868/23.\u590d\u5236\u5e26\u968f\u673a\u6307\u9488\u7684\u94fe\u8868.138.md",sourceDirName:"02.\u9762\u8bd5\u6280\u5de7/03.\u6570\u636e\u7ed3\u6784/01.\u94fe\u8868",slug:"/pages/7a0c45/",permalink:"/docs/pages/7a0c45/",draft:!1,unlisted:!1,editUrl:"https://github.com/PPsteven/CodePainter/tree/master/docs/02.\u9762\u8bd5\u6280\u5de7/03.\u6570\u636e\u7ed3\u6784/01.\u94fe\u8868/23.\u590d\u5236\u5e26\u968f\u673a\u6307\u9488\u7684\u94fe\u8868.138.md",tags:[],version:"current",sidebarPosition:23,frontMatter:{title:"138. \u590d\u5236\u5e26\u968f\u673a\u6307\u9488\u7684\u94fe\u8868(Medium)",date:"2020-08-07T15:53:00.000Z",cover:"https://cdn.jsdelivr.net/gh/PPsteven/pictures/img/20201014134505.png",slug:"/pages/7a0c45/",categories:["\u6570\u636e\u7ed3\u6784","\u94fe\u8868"]},sidebar:"interview",previous:{title:"430. \u6241\u5e73\u5316\u591a\u7ea7\u53cc\u5411\u94fe\u8868(Medium)",permalink:"/docs/pages/b5fb8d/"},next:{title:"203. \u79fb\u9664\u94fe\u8868\u5143\u7d20(Easy)",permalink:"/docs/pages/5a292e/"}},l={},a=[{value:"\u9898\u76ee\u63cf\u8ff0",id:"\u9898\u76ee\u63cf\u8ff0",level:2},{value:"\u7c7b\u522b",id:"\u7c7b\u522b",level:2},{value:"\u89e3\u9898\u601d\u8def",id:"\u89e3\u9898\u601d\u8def",level:2},{value:"\u4e00\u3001\u54c8\u5e0c\u8868",id:"\u4e00\u54c8\u5e0c\u8868",level:3},{value:"\u4ee3\u7801",id:"\u4ee3\u7801",level:3},{value:"\u4e8c\u3001DFS",id:"\u4e8cdfs",level:3},{value:"\u4ee3\u7801",id:"\u4ee3\u7801-1",level:3},{value:"\u4e09\u3001BFS",id:"\u4e09bfs",level:3},{value:"\u4ee3\u7801",id:"\u4ee3\u7801-2",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"\u9898\u76ee\u63cf\u8ff0",children:"\u9898\u76ee\u63cf\u8ff0"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://leetcode-cn.com/problems/copy-list-with-random-pointer/",children:"Leetcode \u5730\u5740"}),"\u3001",(0,t.jsx)(n.a,{href:"https://leetcode-cn.com/problems/fu-za-lian-biao-de-fu-zhi-lcof/",children:"\u5251\u6307 Offer \u5730\u5740"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u7c7b\u522b",children:"\u7c7b\u522b"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u94fe\u8868"}),"\n",(0,t.jsx)(n.li,{children:"\u54c8\u5e0c\u8868"}),"\n",(0,t.jsx)(n.li,{children:"dfs/bfs"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u89e3\u9898\u601d\u8def",children:"\u89e3\u9898\u601d\u8def"}),"\n",(0,t.jsx)(n.h3,{id:"\u4e00\u54c8\u5e0c\u8868",children:"\u4e00\u3001\u54c8\u5e0c\u8868"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\u4f7f\u7528\u54c8\u5e0c\u8868\uff0c\u5c06\u65e7\u7684\u5730\u5740\u4e0e\u65b0\u7684\u5730\u5740\u5173\u8054\u8d77\u6765"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"\u6ce8\u610f\uff0c\u8fd9\u91cc\u7684\u65b0\u7684\u8868\uff0cnext \u548c random \u90fd\u6ca1\u6709\u521b\u5efa\u597d\u7684\u5c31\u662f\uff0c\u5c31\u5b58\u5165\u4e86\u54c8\u5e0c\u8868"}),"\n",(0,t.jsx)(n.p,{children:"\u5229\u7528\u7684\u662f Python \u54c8\u5e0c\u8868\u5b58\u5165\u7684\u662f\u5f15\u7528\uff08\u5730\u5740\uff09\u7684\u539f\u7406"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"\u4ee3\u7801",children:"\u4ee3\u7801"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class Solution:\n    def copyRandomList(self, head: 'Node') -> 'Node':\n        def copy(node):\n            if not node:return node\n            if not node in visited:\n                visited[node] = Node(node.val)\n            return visited[node]\n        \n        if not head: return head \n        old = head \n        new = Node(old.val)\n        visited = {}\n        visited[old] = new \n\n        while old:\n            new.next = copy(old.next)\n            new.random = copy(old.random)\n            old = old.next\n            new = new.next \n        return visited[head]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u4e8cdfs",children:"\u4e8c\u3001DFS"}),"\n",(0,t.jsx)(n.img,{src:"https://cdn.jsdelivr.net/gh/PPsteven/pictures/img/20200714175143.png",style:{zoom:"33%"}}),"\n",(0,t.jsx)(n.h3,{id:"\u4ee3\u7801-1",children:"\u4ee3\u7801"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class Solution:\n    def copyRandomList(self, head: 'Node') -> 'Node':\n        def dfs(node):\n            if not node: \n                return node \n            if node in visited:\n                return visited[node]\n            new_node = Node(node.val)\n            visited[node] = new_node  # \u8fd9\u53e5\u4e00\u5b9a\u8981\u5728 \u9012\u5f52\u8bed\u53e5\u4e4b\u524d\uff0c\u4e0d\u7136\u4f1a\u5b58\u5728\u53cd\u590d\u521b\u5efa\u7684\u95ee\u9898\n            new_node.next = dfs(node.next)\n            new_node.random = dfs(node.random)\n            return new_node\n        visited = {}\n        return dfs(head)\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:"func dfs(root *Node, visited  map[*Node] *Node) *Node {\n    if root == nil {\n        return root \n    }\n\n    v, ok := visited[root]\n    if ok {\n        return v\n    }\n\n    new_node := &Node{Val:root.Val}\n    visited[root] = new_node\n    new_node.Next = dfs(root.Next, visited)\n    new_node.Random = dfs(root.Random, visited)\n    return new_node\n}\n\nfunc copyRandomList(head *Node) *Node {\n   visited := make(map[*Node] *Node)\n   return dfs(head, visited) \n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u4e09bfs",children:"\u4e09\u3001BFS"}),"\n",(0,t.jsx)(n.p,{children:"\u8fd9\u91cc\u4f7f\u7528BFS\u4e0d\u662f\u90a3\u4e48\u5408\u9002\uff0cBFS\u4e00\u822c\u7528\u4e8e\u6c42\u6700\u77ed\u8def\u5f84\u7b49\u95ee\u9898\u3002\u4f46\u662f\u4e5f\u63d0\u4f9b\u6b64\u7248\u672c\u4ee3\u7801"}),"\n",(0,t.jsx)(n.h3,{id:"\u4ee3\u7801-2",children:"\u4ee3\u7801"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class Solution:\n    def copyRandomList(self, head: 'Node') -> 'Node':\n        def bfs(node):\n            if not node: return node \n            new_node = Node(node.val)\n            visited[node] = new_node\n            queue = collections.deque()\n            queue.append(node)\n            while queue:\n                temp = queue.pop()\n                if temp.next and not temp.next in visited:\n                    visited[temp.next] = Node(temp.next.val)\n                    queue.append(temp.next)\n                if temp.random and not temp.random in visited:\n                    visited[temp.random] = Node(temp.random.val)\n                    queue.append(temp.random)\n                visited[temp].next = visited.get(temp.next)\n                visited[temp].random = visited.get(temp.random)\n            return visited[node]\n        visited = {}\n        return bfs(head)\n"})})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,n,d)=>{d.d(n,{R:()=>s,x:()=>r});var t=d(96540);const o={},i=t.createContext(o);function s(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);