"use strict";(self.webpackChunkcodepainter=self.webpackChunkcodepainter||[]).push([[1792],{65985:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>a});var r=s(74848),l=s(28453);const d={title:"docker \u5b9e\u6218:\u5229\u7528 docker \u642d\u5efa\u670d\u52a1",tags:["Docker","MySQL","Redis","ELK"],comments:!1,date:new Date("2020-06-18T19:15:21.000Z"),categories:["Docker"],cover:"https://cdn.jsdelivr.net/gh/PPsteven/pictures/img/20191123002607.png",slug:"/pages/a311b7/"},c=void 0,i={id:"\u6280\u672f\u7b14\u8bb0/\u8fd0\u7ef4/Docker/docker \u5b9e\u6218-\u5229\u7528 docker \u642d\u5efa\u670d\u52a1",title:"docker \u5b9e\u6218:\u5229\u7528 docker \u642d\u5efa\u670d\u52a1",description:"\u7528 docker \u5b89\u88c5\u9700\u8981\u7528\u5230\u7684\u670d\u52a1\u5b9e\u5728\u662f\u592a\u65b9\u4fbf\u4e86\uff0c\u6211\u4eec\u4e0b\u9762\u4ecb\u7ecd\u4e00\u4e9b\u597d\u7684\u8f6e\u5b50\u6765\u7528\u3002",source:"@site/docs/01.\u6280\u672f\u7b14\u8bb0/03.\u8fd0\u7ef4/01.Docker/03.docker \u5b9e\u6218-\u5229\u7528 docker \u642d\u5efa\u670d\u52a1.md",sourceDirName:"01.\u6280\u672f\u7b14\u8bb0/03.\u8fd0\u7ef4/01.Docker",slug:"/pages/a311b7/",permalink:"/docs/pages/a311b7/",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/01.\u6280\u672f\u7b14\u8bb0/03.\u8fd0\u7ef4/01.Docker/03.docker \u5b9e\u6218-\u5229\u7528 docker \u642d\u5efa\u670d\u52a1.md",tags:[{label:"Docker",permalink:"/docs/tags/docker"},{label:"MySQL",permalink:"/docs/tags/my-sql"},{label:"Redis",permalink:"/docs/tags/redis"},{label:"ELK",permalink:"/docs/tags/elk"}],version:"current",sidebarPosition:3,frontMatter:{title:"docker \u5b9e\u6218:\u5229\u7528 docker \u642d\u5efa\u670d\u52a1",tags:["Docker","MySQL","Redis","ELK"],comments:!1,date:"2020-06-18T19:15:21.000Z",categories:["Docker"],cover:"https://cdn.jsdelivr.net/gh/PPsteven/pictures/img/20191123002607.png",slug:"/pages/a311b7/"},sidebar:"techwiki",previous:{title:"Docker\u5b89\u88c5\u53ca\u57fa\u7840\u547d\u4ee4",permalink:"/docs/pages/ce8ab0/"},next:{title:"Docker\u955c\u50cf\u52a0\u901f",permalink:"/docs/pages/926782/"}},o={},a=[{value:"web-vscode \u5b89\u88c5",id:"web-vscode-\u5b89\u88c5",level:2},{value:"redis web \u7ba1\u7406\u5de5\u5177",id:"redis-web-\u7ba1\u7406\u5de5\u5177",level:2},{value:"redis &amp; redis\u53ef\u89c6\u5316\u5de5\u5177",id:"redis--redis\u53ef\u89c6\u5316\u5de5\u5177",level:3},{value:"php LAMP \u73af\u5883\u642d\u5efa",id:"php-lamp-\u73af\u5883\u642d\u5efa",level:2},{value:"docker \u5b89\u88c5",id:"docker-\u5b89\u88c5",level:3},{value:"\u62c9\u53d6docker\u955c\u50cf",id:"\u62c9\u53d6docker\u955c\u50cf",level:3},{value:"\u751f\u6210\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55",id:"\u751f\u6210\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55",level:3},{value:"\u542f\u52a8\u5bb9\u5668",id:"\u542f\u52a8\u5bb9\u5668",level:3},{value:"\u542f\u52a8 Apache \u548c MySQL \u670d\u52a1",id:"\u542f\u52a8-apache-\u548c-mysql-\u670d\u52a1",level:3},{value:"MySQL \u521d\u59cb\u5316\u914d\u7f6e",id:"mysql-\u521d\u59cb\u5316\u914d\u7f6e",level:3},{value:"\u6d4b\u8bd5\u662f\u5426\u6210\u529f",id:"\u6d4b\u8bd5\u662f\u5426\u6210\u529f",level:3},{value:"MySQL 8.0 \u5b89\u88c5",id:"mysql-80-\u5b89\u88c5",level:2},{value:"\u6392\u67e5\u95ee\u9898\u65b9\u6cd5",id:"\u6392\u67e5\u95ee\u9898\u65b9\u6cd5",level:2},{value:"docker \u9000\u51fa",id:"docker-\u9000\u51fa",level:3},{value:"docker ip\u67e5\u770b",id:"docker-ip\u67e5\u770b",level:3},{value:"docker \u65e5\u5fd7\u6392\u67e5\uff08tail -f /dev/null\uff09",id:"docker-\u65e5\u5fd7\u6392\u67e5tail--f-devnull",level:3},{value:"docker \u7f51\u7edc\u6d4b\u8bd5",id:"docker-\u7f51\u7edc\u6d4b\u8bd5",level:3},{value:"\u524d\u7aef\u73af\u5883\u6253\u5305",id:"\u524d\u7aef\u73af\u5883\u6253\u5305",level:3}];function t(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["\u7528 ",(0,r.jsx)(n.code,{children:"docker"})," \u5b89\u88c5\u9700\u8981\u7528\u5230\u7684\u670d\u52a1\u5b9e\u5728\u662f\u592a\u65b9\u4fbf\u4e86\uff0c\u6211\u4eec\u4e0b\u9762\u4ecb\u7ecd\u4e00\u4e9b\u597d\u7684\u8f6e\u5b50\u6765\u7528\u3002"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["web-vscode: \u642d\u5efa\u4e00\u4e2aweb\u7248\u7684vscode\uff0c\u4e0d\u8fc7\u5b9e\u6d4b\u4e0b\u6765\u4e0d\u662f\u7279\u522b\u597d\u7528\u3002\u5f88\u591a",(0,r.jsx)(n.code,{children:"vscode"}),"\u4e0a\u7684\u63d2\u4ef6\u7528\u4e0d\u4e86"]}),"\n",(0,r.jsx)(n.li,{children:"redis web: web\u7aef\u7684web\u7ba1\u7406\u5de5\u5177\uff0c\u4e0d\u8fc7\u914d\u7f6e\u8d77\u6765\u7a0d\u5fae\u6709\u70b9\u9ebb\u70e6\u3002"}),"\n",(0,r.jsx)(n.li,{children:"lamp: php\u57fa\u7840\u5f00\u53d1\u73af\u5883"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"web-vscode-\u5b89\u88c5",children:"web-vscode \u5b89\u88c5"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\u4f20\u9001\u95e8: ",(0,r.jsx)(n.a,{href:"https://github.com/cdr/code-server",children:"code-server"})]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'#\u521b\u5efa\ndocker rm -f vscode \ndocker run \\\n# \u540e\u53f0\u8fd0\u884c\n-d \\ \n# \u603b\u662f\u8fd0\u884c\n--restart=always \\ \n# Alias\n--name web_vscode \\ \n# hostname\n-h vscode \\ \n# \u4e00\u5b9a\u8981\u4ee5root\u8d26\u53f7\u8fd0\u884c,\u4e0d\u7136\u4f1a\u62a5 Permission denied\n-u root \\ \n# \u6240\u6709\u7aef\u53e3\u6620\u5c04\uff0c\u800c\u4e0d\u8981\u662f127.0.0.1\n-p 8086:8080 \\ \n-v "${HOME}/.local/share/code-server:/home/coder/.local/share/code-server" \\ \n# \u5bc6\u7801\u662f\u901a\u8fc7\u73af\u5883\u53d8\u91cf\u52a0\u5165\u7684\n-e PASSWORD=mycode \\ \n# $PWD \u662f\u5f53\u524d\u5e0c\u671b\u9879\u76ee\u653e\u7f6e\u7684\u4f4d\u7f6e\n-v "$PWD:/home/coder/project" \\\n# \u955c\u50cf\u540d\uff0c\u672c\u5730\u4e0d\u5b58\u5728\u7684\u8bdd\uff0c\u4f1a\u4ece\u4ed3\u5e93\u62c9\u53d6\ncodercom/code-server:v2  \n\n#\u67e5\u770b\ndocker ps -l\ndocker logs web_vscode \n'})}),"\n",(0,r.jsx)(n.p,{children:"\u8fd0\u884c\u6210\u529f\u540e"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"info  Server listening on http://0.0.0.0:8080\ninfo    - Password is 558ba38067432e3beddf1228\ninfo      - To use your own password, set the PASSWORD environment variable\ninfo      - To disable use `--auth none`\ninfo    - Not serving HTTPS\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u7531\u4e8e\u6211\u4eec\u7684 web-vscode \u662f\u8fd0\u884c\u5728\u5bb9\u5668\u5185\u7684\uff0c\u6240\u4ee5\u5f88\u591a\u73af\u5883\u6211\u4eec\u9700\u8981\u81ea\u5df1\u914d\u7f6e\uff0c\u53c2\u8003\u4e0a\u8ff0\u64cd\u4f5c\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"redis-web-\u7ba1\u7406\u5de5\u5177",children:"redis web \u7ba1\u7406\u5de5\u5177"}),"\n",(0,r.jsx)(n.p,{children:"mac \u4e0a redis \u7ba1\u7406\u5de5\u5177\u7834\u89e3\u7248\u4e0d\u597d\u627e\uff0c\u4f46\u662f\u5728 github \u4e0a\u627e\u5230\u4e86\u4e00\u4e2a\u5f00\u6e90\u7684\u5de5\u5177\uff0c\u975e\u5e38\u65b9\u4fbf\u3002\u62ff\u6765\u7528\u4e00\u4e0b"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\u4f20\u9001\u95e8: ",(0,r.jsx)(n.a,{href:"https://github.com/erikdubbelboer/phpRedisAdmin",children:"phpRedisAdmin"})]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker pull erikdubbelboer/phpredisadmin\ndocker run --rm -itd -e REDIS_1_HOST=redis -e REDIS_1_NAME=myredis  -p 8015:80  --link redis-test:redis --name redisadmin erikdubbelboer/phpredisadmin\n# \u9700\u8981\u6ce8\u610f\u7684\u662f REDIS_1_HOST \u586b\u5199\u7684\u662f\u81ea\u5df1 redis \u670d\u52a1\u5668\u7684\u5730\u5740\n# \u8fd9\u91cc\u6211\u91c7\u7528\u7684\u662f\u5bb9\u5668\u94fe\u63a5\u7684\u65b9\u5f0f\n"})}),"\n",(0,r.jsx)(n.h3,{id:"redis--redis\u53ef\u89c6\u5316\u5de5\u5177",children:"redis & redis\u53ef\u89c6\u5316\u5de5\u5177"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"docker pull redis\ndocker run -p 127.0.0.1:6379:6379 -d --name redis redis --requirepass \"mypassword\"\n\n\n# \u67e5\u770bredis\u7684ip\u5730\u5740 172.17.0.2\ndocker inspect redis | grep -ai 'ipa'\ndocker run --rm -it -e REDIS_1_HOST=172.17.0.2 -e REDIS_1_NAME=redis -p 80:80 erikdubbelboer/phpredisadmin\n"})}),"\n",(0,r.jsx)(n.h2,{id:"php-lamp-\u73af\u5883\u642d\u5efa",children:"php LAMP \u73af\u5883\u642d\u5efa"}),"\n",(0,r.jsxs)(n.p,{children:["\u5229\u7528 ",(0,r.jsx)(n.code,{children:"docker"})," \u642d\u5efa LAMP \u73af\u5883\u672c\u8eab\u5e94\u8be5\u662f\u6bd4\u8f83\u7701\u529b\u6c14\u7684\u65b9\u5f0f\uff0c\u4f46\u662f\u7f51\u4e0a ",(0,r.jsx)(n.code,{children:"CSDN"})," \u4e4b\u7c7b\u7684\u6559\u7a0b\u5f88\u591a\u90fd\u662f\u590d\u5236\u9ecf\u8d34\uff0c\u5f88\u591a\u5b9e\u73b0\u4e0d\u4e86\uff0c\u4f18\u8d28\u6559\u7a0b\u5f88\u5c11\u3002\u76ee\u524d\u53d1\u73b0\u4e86\u56fd\u5916\u7684\u4e00\u4e2a ",(0,r.jsx)(n.code,{children:"linode"})," \u7684 docke r\u955c\u50cf\uff0c\u6709\u975e\u5e38\u8be6\u7ec6\u7684\u6559\u7a0b\uff0c\u5f88\u597d\u7528\u3002"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"linode \u8be6\u7ec6\u914d\u7f6e\uff0c\u8bf7\u770b"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://hub.docker.com/r/linode/lamp",children:"https://hub.docker.com/r/linode/lamp"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.linode.com/docs/applications/containers/how-to-install-docker-and-deploy-a-lamp-stack/",children:"https://www.linode.com/docs/applications/containers/how-to-install-docker-and-deploy-a-lamp-stack/"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"docker-\u5b89\u88c5",children:"docker \u5b89\u88c5"}),"\n",(0,r.jsxs)(n.p,{children:["docker \u73af\u5883\u642d\u5efa\u8bf7\u770b\u6211\u7684 ",(0,r.jsx)(n.a,{href:"https://ppsteven.github.io/2020/01/12/centos-install-introduction/",children:"Centos \u73af\u5883\u914d\u7f6e\uff08\u6301\u7eed\u603b\u7ed3\uff09"})," \u8fd9\u4e00\u7bc7\u6559\u7a0b"]}),"\n",(0,r.jsx)(n.h3,{id:"\u62c9\u53d6docker\u955c\u50cf",children:"\u62c9\u53d6docker\u955c\u50cf"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# docker search -s 10 lamp\nFlag --stars has been deprecated, use --filter=stars=3 instead\nNAME                DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED\nmattrayner/lamp     A simple LAMP docker image running the prere\u2026   211                                     [OK]\nlinode/lamp         LAMP on Ubuntu 14.04.1 LTS Container            178\n... linode \u7684\u955c\u50cf star\u6570\u8fd8\u662f\u6bd4\u8f83\u9ad8\u7684\n# sudo docker pull linode/lamp\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u751f\u6210\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55",children:"\u751f\u6210\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55"}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u4e00\u6b65\u5f88\u591a\u6559\u7a0b\u91cc\u9762\u90fd\u7f3a\u5931\u7684\u4e00\u90e8\u5206\uff0clamp \u7684\u5f88\u591a\u6587\u4ef6\u9700\u8981\u6620\u5c04\u5230\u5bbf\u4e3b\u673a\uff0c\u65b9\u6cd5\u540e\u9762\u7684\u914d\u7f6e\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \u542f\u52a8\u8fdb\u5165\u5bb9\u5668 \n$ docker run -itd --name lamp linode/lamp:latest /bin/bash\n# \u5c06\u9700\u8981\u6620\u5c04\u7684\u6587\u4ef6\u62f7\u8d1d\u51fa\u6765\uff0c\u4e3b\u8981\u5c31\u662f apache2, mysql\u7684\u914d\u7f6e\u6587\u4ef6 \u548c www\u6587\u4ef6\u5939\n.\n\u251c\u2500\u2500 apache2.conf\n\u251c\u2500\u2500 my.cnf\n\u2514\u2500\u2500 www\n    \u251c\u2500\u2500 example.com\n    \u2502\xa0\xa0 \u251c\u2500\u2500 backups\n    \u2502\xa0\xa0 \u251c\u2500\u2500 log\n    \u2502\xa0\xa0 \u2514\u2500\u2500 public_html\n    \u2514\u2500\u2500 html\n        \u2514\u2500\u2500 index.html\n \n$ docker cp lamp:/var/www /Users/xxx/Documents/Dockerfile/lamp/www\n$ docker cp lamp:/etc/apache2/apache2.conf  /Users/xxx/Documents/Dockerfile/lamp/apache2.conf\n$ docker cp lamp:/etc/mysql/my.cnf /Users/xxx/Documents/Dockerfile/lamp/my.cnf\n# \u5220\u9664\u65e7\u7684\u5bb9\u5668\n$ docker container rm -f lamp\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u542f\u52a8\u5bb9\u5668",children:"\u542f\u52a8\u5bb9\u5668"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo docker run -p 8010:80 -p 3309:3306 \\\n         -v /Users/ppsteven/Documents/Dockerfile/lamp/www:/var/www \\\n         -v /Users/ppsteven/Documents/Dockerfile/lamp/apache2.conf:/etc/apache2/apache2.conf \\\n         -v /Users/ppsteven/Documents/Dockerfile/lamp/my.cnf:/etc/mysql/my.cnf \\\n         --name lamp \\\n         -itd linode/lamp:latest /bin/bash\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u542f\u52a8-apache-\u548c-mysql-\u670d\u52a1",children:"\u542f\u52a8 Apache \u548c MySQL \u670d\u52a1"}),"\n",(0,r.jsx)(n.p,{children:"\u5bb9\u5668\u5185\u90e8\u7684 Apache \u548c MySQL \u670d\u52a1\u662f\u9ed8\u8ba4\u4e0d\u81ea\u52a8\u542f\u52a8\u7684\uff08\u5f53 LAMP \u91cd\u542f\u7684\u65f6\u5019\u9700\u8981\u6ce8\u610f\u67e5\u770b\u8fd9\u4e24\u4e2a\u670d\u52a1\u662f\u5426\u4e5f\u542f\u52a8\u4e86\uff09"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"service apache2 start\nservice mysql start\n"})}),"\n",(0,r.jsx)(n.h3,{id:"mysql-\u521d\u59cb\u5316\u914d\u7f6e",children:"MySQL \u521d\u59cb\u5316\u914d\u7f6e"}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u4e00\u6b65\u662f\u5f88\u591a\u5730\u65b9\u6ca1\u6709\u63d0\u7684\uff0clinode \u7684 MySQL \u662f\u6709\u9ed8\u8ba4\u5bc6\u7801\uff0c",(0,r.jsx)(n.code,{children:"Admin2015"}),"\u3002\u6211\u4eec\u9700\u8981\u521d\u59cb\u5316\u5bf9\u4e8e MySQL \u6570\u636e\u5e93\u7684\u914d\u7f6e\u3002"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\u53c2\u8003\uff1a",(0,r.jsx)(n.a,{href:"https://zhuanlan.zhihu.com/p/111605563",children:"https://zhuanlan.zhihu.com/p/111605563"})]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# \u5982\u4e0b\u547d\u4ee4\u5373\u53ef\nmysql_secure_installation\n\u6309\u4e0b\u56de\u57ce\u952e\u4f60\u4f1a\u770b\u89c1\u7ed3\u5c3e\u5982\u4e0b\u7684\u5bf9\u8bdd\u3002\n\nEnter current password for root (enter for none): #\nSet root password? # \u662f\u5426\u8bbe\u7f6eroot\u7528\u6237\u5bc6\u7801  y\nNew password: # \u65b0\u5bc6\u7801\nRe-enter new password: \nRemove anonymous users? [Y/n] # \u662f\u5426\u5220\u9664\u533f\u540d\u7528\u6237\uff0c\u56de\u8f66 y\nDisallow root login remotely? [Y/n] # \u662f\u5426\u7981\u6b62root\u8fdc\u7a0b\u767b\u5f55\nRemove test database and access to it? [Y/n] # \u662f\u5426\u5220\u9664test\u6570\u636e\u5e93\nReload privilege tables now? [Y/n] # \u662f\u5426\u91cd\u65b0\u52a0\u8f7d\u6743\u9650\u8868  y\nAll done! If you\u2019ve completed all of the above steps, your MariaDB\ninstallation should now be secure.\nThanks for using MariaDB!\n\n# \u6d4b\u8bd5\u767b\u5f55\nmysql -uroot -p"\u81ea\u5df1\u7684\u6570\u636e\u5e93\u5bc6\u7801"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u6d4b\u8bd5\u662f\u5426\u6210\u529f",children:"\u6d4b\u8bd5\u662f\u5426\u6210\u529f"}),"\n",(0,r.jsxs)(n.p,{children:["\u6e38\u89c8\u5668\u8f93\u5165 ",(0,r.jsx)(n.a,{href:"http://localhost:8010/",children:"http://localhost:8010/"})," \uff0c\u770b\u5230\u5982\u4e0b\u4fe1\u606f\uff0c\u8868\u793a\u6210\u529f"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'The Docker LAMP stack is working.\nThe configuration information can be found here or here\nThis index.html file is located in the "/var/www/example.com/public_html" directory.\n'})}),"\n",(0,r.jsx)(n.h2,{id:"mysql-80-\u5b89\u88c5",children:"MySQL 8.0 \u5b89\u88c5"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"docker pull mysql:8.0 # \u62c9\u53d6\u955c\u50cf\ndocker run -p 3307:3306 --name mysql8.0 -e MYSQL_ROOT_PASSWORD=root -d mysql:8.0 # \u542f\u52a8\u5bb9\u5668\ndocker exec -it mysql8.0 bash # \u8fdb\u5165\u5bb9\u5668\nmysql -uroot -p # \u767b\u5f55mysql\nalter user 'root'@'%' identified with mysql_native_password by '\u6211\u7684\u5bc6\u7801'; # \u4fee\u6539\u4e09\u70b9\uff1a 1.\u8fd0\u884c\u5916\u90e8\u8bbf\u95ee 2.MySQL\u52a0\u5bc6\u65b9\u5f0f 3.\u5bc6\u7801\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u6392\u67e5\u95ee\u9898\u65b9\u6cd5",children:"\u6392\u67e5\u95ee\u9898\u65b9\u6cd5"}),"\n",(0,r.jsx)(n.h3,{id:"docker-\u9000\u51fa",children:"docker \u9000\u51fa"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"# \u5343\u4e07\u4e0d\u8981\u7528 exit\uff0c\u5bb9\u5668\u4f1a\u8ddf\u7740\u9000\u51fa\u7684\nCTRL + P + Q\n"})}),"\n",(0,r.jsx)(n.h3,{id:"docker-ip\u67e5\u770b",children:"docker ip\u67e5\u770b"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u8fdb\u5165\u5bb9\u5668\u67e5\u770b\uff0c\u8fd9\u79cd\u65b9\u6cd5\u53ef\u80fd\u4f1a\u5931\u8d25\uff0c\u56e0\u4e3a\u53ef\u80fd\u5bb9\u5668\u7684\u7cfb\u7edf\u4e2d\u6ca1\u6709\u5bf9\u5e94\u7684\u547d\u4ee4\u5de5\u5177"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"docker exec -ti <NAME OR ID> /bin/bash\n# ifconfig/ip addr \n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u6700\u6b63\u7edf\u7684\u5199\u6cd5(\u53ef\u4ee5\u5199\u5728 shell \u811a\u672c\u91cc)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# docker inspect --format '{{ .NetworkSettings.IPAddress }}' 2e23d01384ac\n172.17.0.2\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u6700\u7b80\u5355\u67e5\u8be2\u7684\u5199\u6cd5"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'$ docker inspect lamp | grep -ai \'ipa\'\n            "SecondaryIPAddresses": null,\n            "IPAddress": "172.17.0.2",\n                    "IPAMConfig": null,\n                    "IPAddress": "172.17.0.2",\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"docker-\u65e5\u5fd7\u6392\u67e5tail--f-devnull",children:"docker \u65e5\u5fd7\u6392\u67e5\uff08tail -f /dev/null\uff09"}),"\n",(0,r.jsxs)(n.p,{children:["\u5229\u7528 ",(0,r.jsx)(n.code,{children:"tail -f /dev/null"})," \u957f\u547d\u4ee4\u963b\u585e\uff0c\u4e0d\u8ba9\u5bb9\u5668\u7acb\u9a6c\u7ed3\u675f\uff0c\u8fd9\u79cd\u7528\u6cd5\u975e\u5e38\u597d\u7528"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker exec -ti <NAME OR ID> tail -f /dev/null\n"})}),"\n",(0,r.jsx)(n.h3,{id:"docker-\u7f51\u7edc\u6d4b\u8bd5",children:"docker \u7f51\u7edc\u6d4b\u8bd5"}),"\n",(0,r.jsx)(n.p,{children:"alpine \u5c5e\u4e8e\u57fa\u7840\u955c\u50cf\uff0c\u7f3a\u5931\u5f88\u591a\u547d\u4ee4\u548c\u529f\u80fd\uff0c\u9002\u7528\u4e8e\u5f00\u53d1\u90e8\u7f72\uff0c\u4f46\u662f\u5bf9\u4e8e\u5e73\u65f6\u8c03\u8bd5\u4e0d\u65b9\u4fbf\u3002\u4e0b\u9762\u603b\u7ed3\u4e86\u4e00\u4e9b\u5e38\u7528\u547d\u4ee4\u7684\u5b89\u88c5\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \u955c\u50cf\u52a0\u901f & curl \u5b89\u88c5 & telnet \u5b89\u88c5\nsed -i 's/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g' /etc/apk/repositories \\\n   && apk update \\\n   && apk add curl \\\n   && apk add busybox-extras\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u524d\u7aef\u73af\u5883\u6253\u5305",children:"\u524d\u7aef\u73af\u5883\u6253\u5305"}),"\n",(0,r.jsx)(n.p,{children:"\u4f7f\u7528Docker\u8fdb\u884c\u524d\u7aef\u73af\u5883\u6253\u5305\uff0c\u89e3\u51b3\u4e86\u4e0d\u540c\u7cfb\u7edf\u73af\u5883\u4e0b\u7684\u4e0d\u4e00\u81f4\u95ee\u9898\u3002\u7531\u4e8e\u4f7f\u7528Docker\u955c\u50cf\u7f16\u8bd1\u9759\u6001\u6587\u4ef6\uff0c\u6240\u4ee5\u65f6\u95f4\u53ef\u80fd\u6bd4\u8f83\u8017\u65f6\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dockerfile",children:"FROM artifactory.momenta.works/docker/node:lts-alpine AS builder\n\nWORKDIR /\n\nCOPY package.json  /\n\n# yarn \u5b89\u88c5\u4f7f\u7528\u7684\u7248\u672c\u4f9d\u8d56\nCOPY yarn.lock /\n\nRUN yarn install\n\nCOPY . /\n\nRUN yarn build\n\nFROM nginx:alpine AS app\n\n# nginx \u914d\u7f6e\nCOPY nginx /etc/nginx/\n\nCOPY  --from=builder build/ /usr/share/nginx/html\n\nEXPOSE 80\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u4e3a\u4e86\u65b9\u4fbf\u8d77\u89c1\uff0c\u4e5f\u53ef\u4ee5\u5728\u672c\u5730\u7f16\u8bd1\u540e\uff0c\u6253\u5305\u81f3\u5bb9\u5668\u4e2d\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dockerfile",children:"FROM nginx:alpine AS app\n\n# nginx \u914d\u7f6e\nCOPY nginx /etc/nginx/\n\nCOPY build/ /usr/share/nginx/html\n\nEXPOSE 80\n"})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>i});var r=s(96540);const l={},d=r.createContext(l);function c(e){const n=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);