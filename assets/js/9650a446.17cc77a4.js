"use strict";(self.webpackChunkcodepainter=self.webpackChunkcodepainter||[]).push([[3848],{51912:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>l,frontMatter:()=>a,metadata:()=>r,toc:()=>o});var s=t(74848),c=t(28453);const a={title:"\u6162\u6162\u4e70\u6bd4\u4ef7\u722c\u866b(JS \u9006\u5411\u7834\u89e3)",date:new Date("2021-01-14T11:29:28.000Z"),slug:"/pages/cb409c/",categories:["\u722c\u866b"]},i=void 0,r={permalink:"/blog/pages/cb409c/",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/02.\u6162\u6162\u4e70\u6bd4\u4ef7\u722c\u866b.md",source:"@site/blog/02.\u6162\u6162\u4e70\u6bd4\u4ef7\u722c\u866b.md",title:"\u6162\u6162\u4e70\u6bd4\u4ef7\u722c\u866b(JS \u9006\u5411\u7834\u89e3)",description:"\u9879\u76ee\u4e2d\u6d89\u53ca\u5230\u5bf9\u6dd8\u5b9d\uff0c\u4eac\u4e1c\u5546\u54c1\u5386\u53f2\u4ef7\u683c\u7684\u6570\u636e\u91c7\u96c6\uff0c\u76f4\u63a5\u722c\u866b\u662f\u83b7\u53d6\u4e0d\u5230\u5386\u53f2\u6570\u636e\u7684\u3002\u9700\u8981\u501f\u52a9\u7b2c\u4e09\u65b9\u6bd4\u4ef7\u5e73\u53f0\u2014\u2014\u6162\u6162\u4e70\u3002\u6162\u6162\u4e70\u662f\u5168\u7f51\u6bd4\u4ef7\u5e73\u53f0\uff0c\u4e3b\u8981\u662f\u901a\u8fc7\u5b9e\u4e60\u722c\u53d6\u6dd8\u5b9d\uff0c\u4eac\u4e1c\uff0c\u5929\u732b\u7b49\u7535\u6247\u8d2d\u7269\u5e73\u53f0\uff0c\u5411\u7528\u6237\u63d0\u4f9b\u591a\u5e73\u53f0\u7684\u5546\u54c1\u4ef7\u683c\u6bd4\u8f83\u3002\u540c\u65f6\uff0c\u6162\u6162\u4e70\u8fd8\u63d0\u4f9b\u5386\u53f2\u4ef7\u683c\u67e5\u8be2\u7684\u529f\u80fd\u3002\u4f5c\u4e3a\u4e00\u4e2a\u722c\u866b\u5e73\u53f0\uff0c\u6162\u6162\u4e70\u5728\u53cd\u722c\u866b\u4e0a\u4e5f\u662f\u82b1\u8d39\u4e86\u4e0d\u5c11\u5fc3\u601d\u3002",date:"2021-01-14T11:29:28.000Z",tags:[],readingTime:10.55,hasTruncateMarker:!0,authors:[],frontMatter:{title:"\u6162\u6162\u4e70\u6bd4\u4ef7\u722c\u866b(JS \u9006\u5411\u7834\u89e3)",date:"2021-01-14T11:29:28.000Z",slug:"/pages/cb409c/",categories:["\u722c\u866b"]},unlisted:!1,prevItem:{title:"0x1.\u5bb6\u5ead\u670d\u52a1\u5668\u6298\u817e\u8bb0|\u6298\u817e\u601d\u8def",permalink:"/blog/old-computer-adventures/idea"},nextItem:{title:"\u6162\u6162\u4e70\u6bd4\u4ef7\u722c\u866b(JS \u9006\u5411\u7834\u89e3)",permalink:"/blog/leetcode-tool-intro"}},d={authorsImageUrls:[]},o=[{value:"Http\u6293\u5305\u5206\u6790",id:"http\u6293\u5305\u5206\u6790",level:2},{value:"\u8bf7\u6c42\u5206\u6790",id:"\u8bf7\u6c42\u5206\u6790",level:2},{value:"\u5bfb\u627e\u53d8\u52a8\u7684\u5b57\u6bb5",id:"\u5bfb\u627e\u53d8\u52a8\u7684\u5b57\u6bb5",level:2},{value:"\u8bf7\u6c42\u5934\u63d0\u4ea4\u7684\u6570\u636e (Form data)",id:"\u8bf7\u6c42\u5934\u63d0\u4ea4\u7684\u6570\u636e-form-data",level:3},{value:"\u8bf7\u6c42\u5934\u62a5\u6587(Request Header)",id:"\u8bf7\u6c42\u5934\u62a5\u6587request-header",level:3},{value:"\u53cd\u7f16\u8bd1 Authorization",id:"\u53cd\u7f16\u8bd1-authorization",level:4},{value:"1. Python \u5b9e\u73b0 Base64 \u7f16\u7801/\u89e3\u7801",id:"1-python-\u5b9e\u73b0-base64-\u7f16\u7801\u89e3\u7801",level:4},{value:"2. \u5728\u7ebfBase\u7f16\u7801/\u89e3\u7801\u7f51\u7ad9",id:"2-\u5728\u7ebfbase\u7f16\u7801\u89e3\u7801\u7f51\u7ad9",level:4},{value:"\u7ed3\u8bba",id:"\u7ed3\u8bba",level:4},{value:"JS\u4ee3\u7801\u5206\u6790",id:"js\u4ee3\u7801\u5206\u6790",level:2},{value:"token \u53c2\u6570\u8fd8\u539f",id:"token-\u53c2\u6570\u8fd8\u539f",level:2},{value:"Authorization \u7834\u89e3",id:"authorization-\u7834\u89e3",level:2},{value:"Github \u4ed3\u5e93",id:"github-\u4ed3\u5e93",level:2},{value:"\u53c2\u8003\u8d44\u6599",id:"\u53c2\u8003\u8d44\u6599",level:2}];function x(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["\u9879\u76ee\u4e2d\u6d89\u53ca\u5230\u5bf9\u6dd8\u5b9d\uff0c\u4eac\u4e1c\u5546\u54c1\u5386\u53f2\u4ef7\u683c\u7684\u6570\u636e\u91c7\u96c6\uff0c\u76f4\u63a5\u722c\u866b\u662f\u83b7\u53d6\u4e0d\u5230\u5386\u53f2\u6570\u636e\u7684\u3002\u9700\u8981\u501f\u52a9\u7b2c\u4e09\u65b9\u6bd4\u4ef7\u5e73\u53f0\u2014\u2014",(0,s.jsx)(n.a,{href:"http://www.manmanbuy.com/",children:"\u6162\u6162\u4e70"}),"\u3002\u6162\u6162\u4e70\u662f\u5168\u7f51\u6bd4\u4ef7\u5e73\u53f0\uff0c\u4e3b\u8981\u662f\u901a\u8fc7\u5b9e\u4e60\u722c\u53d6\u6dd8\u5b9d\uff0c\u4eac\u4e1c\uff0c\u5929\u732b\u7b49\u7535\u6247\u8d2d\u7269\u5e73\u53f0\uff0c\u5411\u7528\u6237\u63d0\u4f9b\u591a\u5e73\u53f0\u7684\u5546\u54c1\u4ef7\u683c\u6bd4\u8f83\u3002\u540c\u65f6\uff0c\u6162\u6162\u4e70\u8fd8\u63d0\u4f9b\u5386\u53f2\u4ef7\u683c\u67e5\u8be2\u7684\u529f\u80fd\u3002\u4f5c\u4e3a\u4e00\u4e2a\u722c\u866b\u5e73\u53f0\uff0c\u6162\u6162\u4e70\u5728\u53cd\u722c\u866b\u4e0a\u4e5f\u662f\u82b1\u8d39\u4e86\u4e0d\u5c11\u5fc3\u601d\u3002"]}),"\n",(0,s.jsx)(n.h2,{id:"http\u6293\u5305\u5206\u6790",children:"Http\u6293\u5305\u5206\u6790"}),"\n",(0,s.jsx)(n.p,{children:"\u9996\u5148\uff0c\u8fdb\u5165\u6162\u6162\u4e70\u5386\u53f2\u4ef7\u683c\u67e5\u8be2\u5e73\u53f0\uff0c\u590d\u5236\u4e00\u4e2a\u6dd8\u5b9d\u4eac\u4e1c\u7684\u94fe\u63a5\u8fdb\u884c\u67e5\u8be2\u3002"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"image-20210114113250055",src:t(67476).A+"",width:"2040",height:"570"})}),"\n",(0,s.jsx)(n.p,{children:"\u901a\u8fc7 Chrome \u81ea\u5e26\u7684\u5f00\u53d1\u8005\u5de5\u5177->Network \u8fdb\u884chttp\u6293\u5305\u5206\u6790"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u9996\u5148\u627e\u5230\u4ef7\u683c\u6570\u636e\uff0c\u4ef7\u683c\u6570\u636e\u4e2d\u4e00\u5b9a\u6709238"}),"\n",(0,s.jsx)(n.li,{children:"\u641c\u7d22\u6240\u6709\u8bf7\u6c42\u5230\u7684\u8d44\u6e90\uff0c\u67e5\u770b\u54ea\u4e9b\u6709238"}),"\n",(0,s.jsx)(n.li,{children:"\u627e\u5230\u5bf9\u5e94\u7684\u8bf7\u6c42"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(40465).A+"",width:"2766",height:"1536"})}),"\n",(0,s.jsx)(n.h2,{id:"\u8bf7\u6c42\u5206\u6790",children:"\u8bf7\u6c42\u5206\u6790"}),"\n",(0,s.jsxs)(n.p,{children:["\u901a\u8fc7\u67e5\u770b ",(0,s.jsx)(n.code,{children:"Requests Headers"})," \u7684\u5934\u90e8\u4fe1\u606f\uff0c\u53d1\u73b0\u8fd9\u662f\u4e00\u4e2aPOST\u8bf7\u6c42\uff0c\u53ea\u8981\u628a\u53c2\u6570\u586b\u5165 ",(0,s.jsx)(n.code,{children:"From data"}),"\u5373\u53ef\u3002"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(80098).A+"",width:"1376",height:"690"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["\u8bf7\u6c42\u5730\u5740\uff1a",(0,s.jsx)(n.a,{href:"http://tool.manmanbuy.com/api.ashx",children:"http://tool.manmanbuy.com/api.ashx"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u8bf7\u6c42\u65b9\u5f0f\uff1aPOST"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u8bf7\u6c42\u6570\u636e\uff1a"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Key"}),(0,s.jsx)(n.th,{children:"Value"}),(0,s.jsx)(n.th,{children:"\u542b\u4e49"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"method"}),(0,s.jsx)(n.td,{children:"getHistoryTrend"}),(0,s.jsx)(n.td,{children:"\u56fa\u5b9a\u4e0d\u53d8"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"key"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"https://item.jd.com/6290488.html",children:"https://item.jd.com/6290488.html"})}),(0,s.jsx)(n.td,{children:"\u539f\u5546\u54c1\u94fe\u63a5\uff08\u53d8\uff09"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"t"}),(0,s.jsx)(n.td,{children:"1610601399358"}),(0,s.jsx)(n.td,{children:"\u65f6\u95f4\u6233\uff08\u53d8\uff09"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"token"}),(0,s.jsx)(n.td,{children:"DAF418E3848F4B4BB1C8CA6F23AD331D"}),(0,s.jsx)(n.td,{children:"token \uff08\u53d8\uff09"})]})]})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u8bf7\u6c42\u62a5\u6587\u5206\u6790"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Accept: */*  # \u63a5\u6536\u6240\u6709\u7c7b\u578b\u7684\u6570\u636e\nAccept-Encoding: gzip, deflate # \u63a5\u6536\u7f16\u7801\u65b9\u5f0f\nAccept-Language: zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7 # \u63a5\u6536\u8bed\u8a00\nAuthorization: BasicAuth D8DD2812A942776AF9ED750C2D6D7539BF204F7C0B0FB414E6CEBD28536A99D07304FA7BFFBB2BDD6B9B46823A9D19FA751316693F17DD79FF26D70E2EBA1BF31918AB09FC305FCFB80352187AE32269B8D8DB1977F84F1E # Basic \u8eab\u4efd\u9a8c\u8bc1\nContent-Length: 122 # \u5185\u5bb9\u957f\u5ea6\nContent-Type: application/x-www-form-urlencoded; charset=UTF-8 # \u62a5\u6587\u4e3b\u4f53\u7684\u7c7b\u578b\uff1a\u901a\u8fc7 x-www-form-urlencoded \u63d0\u4ea4\u4e3b\u4f53\nCookie: _ga=GA1.2.614520810.1610543725; _gid=GA1.2.187844233.1610543725; Hm_lvt_85f48cee3e51cd48eaba80781b243db3=1608561378,1608561379,1610539536,1610594558; ASP.NET_SessionId=oyiwn2k5xvhc2d5s3owcy4ma; radius=115.174.219.229; uudid=cms4cfa3810-b108-a48c-1a2f-eb4c72b23256; Hm_lvt_01a310dc95b71311522403c3237671ae=1608561378,1610539536,1610595007,1610595218; Hm_lpvt_85f48cee3e51cd48eaba80781b243db3=1610601329; Hm_lpvt_01a310dc95b71311522403c3237671ae=1610601329 # Cookie \nHost: tool.manmanbuy.com # \u4e3b\u673a\u5730\u5740\nOrigin: http://tool.manmanbuy.com # Origin\nProxy-Connection: keep-alive # \u6301\u7eed\u8fde\u63a5\nReferer: http://tool.manmanbuy.com/historyLowest.aspx?url=https%3A//item.jd.com/6290488.html # \u662f\u4ece\u54ea\u4e2a\u5730\u5740\u8bf7\u6c42\u6765\u7684\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 11_1_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Safari/537.36 # User-Agent\nX-Requested-With: XMLHttpRequest\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u5176\u4e2d\u6bd4\u8f83\u91cd\u8981\u7684\u662f Cookie \u548c Authorization\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u5bfb\u627e\u53d8\u52a8\u7684\u5b57\u6bb5",children:"\u5bfb\u627e\u53d8\u52a8\u7684\u5b57\u6bb5"}),"\n",(0,s.jsx)(n.p,{children:"\u901a\u8fc7\u591a\u6b21\u8bf7\u6c42\uff0c\u6bd4\u8f83\u6bcf\u6b21\u8bf7\u6c42\u65f6\u5019\u53d8\u52a8\u7684\u8bf7\u6c42\u5934\uff0c\u8fd9\u6837\u624d\u80fd\u77e5\u9053\u54ea\u4e9b\u5b57\u6bb5\u8981\u53bb\u91cd\u70b9\u7814\u7a76\u653b\u514b\u3002\u53ef\u4ee5\u901a\u8fc7 \u4ee3\u7801\u6bd4\u8f83\u5de5\u5177\u53bb\u5206\u6790\u6bcf\u6b21\u53d8\u52a8\u7684\u5b57\u6bb5\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u8fd9\u91cc\u6bd4\u8f83\u4e24\u4e2a\u90e8\u5206"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u8bf7\u6c42\u5934\u63d0\u4ea4\u7684\u6570\u636e"}),"\n",(0,s.jsx)(n.li,{children:"\u8bf7\u6c42\u5934\u62a5\u6587"}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["\u5de5\u5177\uff1a",(0,s.jsx)(n.a,{href:"https://www.matools.com/compare",children:"\u5728\u7ebf\u4ee3\u7801\u5bf9\u6bd4/\u5f52\u5e76"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\u8bf7\u6c42\u5934\u63d0\u4ea4\u7684\u6570\u636e-form-data",children:"\u8bf7\u6c42\u5934\u63d0\u4ea4\u7684\u6570\u636e (Form data)"}),"\n",(0,s.jsx)(n.p,{children:"method \u662f\u56fa\u5b9a\u7684\uff0ckey\uff0ct \u5206\u522b\u662f\u5546\u54c1\u5730\u5740\u548c\u65f6\u95f4\u6233\u3002"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u96be\u70b9\u662f token \u5b57\u6bb5\u7684\u751f\u6210\u65b9\u5f0f"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(25780).A+"",width:"1716",height:"172"})}),"\n",(0,s.jsx)(n.h3,{id:"\u8bf7\u6c42\u5934\u62a5\u6587request-header",children:"\u8bf7\u6c42\u5934\u62a5\u6587(Request Header)"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(13884).A+"",width:"1750",height:"498"})}),"\n",(0,s.jsxs)(n.p,{children:["\u8bf7\u6c42\u5934\u4e2d Authorization \u4ee3\u8868\u7684\u662f Web\u7aef \u5bf9\u8bbf\u95ee\u7528\u6237\u8eab\u4efd\u7684\u8ba4\u8bc1\uff0c\u8fd9\u4e2a\u77e5\u8bc6\u70b9\uff0c\u5728 ",(0,s.jsx)(n.a,{href:"./pages/8e336c",children:"08.\u786e\u8ba4\u8bbf\u95ee\u7528\u6237\u8eab\u4efd\u7684\u8ba4\u8bc1"})," \u5df2\u7ecf\u5199\u8fc7\uff0cBasic Auth \u5c5e\u4e8e\u4e00\u79cd\u57fa\u672c\u7684\u8ba4\u8bc1\u65b9\u5f0f\uff0c\u672c\u8d28\u4e0a\u5c31\u662f\u901a\u8fc7 Base64 \u5bf9\u8d26\u6237\u5bc6\u7801\u8fdb\u884c\u7f16\u7801\u540e\u4f20\u8f93\uff0c\u7f16\u7801\u53ef\u4ee5\u901a\u8fc7Base64 \u53cd\u7f16\u7801\uff0c\u6240\u4ee5\u672c\u8d28\u4e0a\u5c31\u662f\u4e00\u79cd\u660e\u6587\u7684\u4f20\u8f93\u65b9\u5f0f\u3002\u6240\u4ee5\uff0c\u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\u53cd\u7f16\u8bd1\u4e00\u4e0b\u3002"]}),"\n",(0,s.jsx)(n.h4,{id:"\u53cd\u7f16\u8bd1-authorization",children:"\u53cd\u7f16\u8bd1 Authorization"}),"\n",(0,s.jsx)(n.h4,{id:"1-python-\u5b9e\u73b0-base64-\u7f16\u7801\u89e3\u7801",children:"1. Python \u5b9e\u73b0 Base64 \u7f16\u7801/\u89e3\u7801"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import base64\n\ndef get_basic_auth_str(username, password):\n  temp_str = username + ':' + password\n  bytesString = temp_str.encode(encoding=\"utf-8\")  # \u8f6c\u6210bytes string\n  encodestr = base64.b64encode(bytesString)  # base64 \u7f16\u7801\n  return 'Basic ' + encodestr.decode() \n\ndef decode_basic_auth_str(auth_str):\n    bytesString = auth_str.encode(\"utf-8\")\n    decode_str = base64.b64decode(bytesString)\n    return decode_str.decode(\"utf-8\")\n\n\nif __name__ == '__main__':\n    auth_str = get_basic_auth_str('Tom', 'test') # Basic VG9tOnRlc3Q=\n    decode_str = decode_basic_auth_str('VG9tOnRlc3Q=') # Tom:test\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u5c1d\u8bd5\u901a\u8fc7 Base64 \u53bb\u53cd\u7f16\u8bd1\u52a0\u5bc6\u540e\u7684\u5b57\u7b26\u4e32\uff0c\u53d1\u73b0\u89e3\u6790\u9519\u8bef\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:">>> from util import decode_basic_auth_str                                                                          \n>>> decode_basic_auth_str('D8DD2812A942776AF9ED750C2D6D7539BF204F7C0B0FB414E6CEBD28536A99D07304FA7BFFBB2BDD6B9B46823A9D19FA751316693F17DD79FF26D70E2EBA1BF31918AB09FC305FCFF5CC0120F0A255CA5D37BDC0EBFFB3CD')   \n>>> UnicodeDecodeError: 'utf-8' codec can't decode byte 0xc0 in position 1: invalid start byte\n"})}),"\n",(0,s.jsx)(n.h4,{id:"2-\u5728\u7ebfbase\u7f16\u7801\u89e3\u7801\u7f51\u7ad9",children:"2. \u5728\u7ebfBase\u7f16\u7801/\u89e3\u7801\u7f51\u7ad9"}),"\n",(0,s.jsx)(n.p,{children:"\u901a\u8fc7\u5728\u7ebf\u7f16\u7801\u89e3\u7801\u7f51\u7ad9\u4e5f\u662f\u53d1\u73b0\u5168\u90e8\u90fd\u662f\u4e71\u7801"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(83093).A+"",width:"1818",height:"1090"})}),"\n",(0,s.jsx)(n.h4,{id:"\u7ed3\u8bba",children:"\u7ed3\u8bba"}),"\n",(0,s.jsx)(n.p,{children:"\u7ecf\u8fc7\u4ee3\u7801\u6bd4\u8f83\u540e\uff0c\u6211\u4eec\u53d1\u73b0\u6709\u4e24\u4e2a\u5b57\u6bb5\u65e0\u6cd5\u89e3\u51b3"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Authorization \u4e0d\u662f\u901a\u8fc7\u4f20\u7edf\u7684 Basic64 \u52a0\u5bc6\u7684"}),"\n",(0,s.jsx)(n.li,{children:"token"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"js\u4ee3\u7801\u5206\u6790",children:"JS\u4ee3\u7801\u5206\u6790"}),"\n",(0,s.jsx)(n.p,{children:"\u77e5\u9053\u4e86\u76ee\u6807\uff0c\u5c31\u53ef\u4ee5\u67e5\u770b\u5177\u4f53\u53d1\u9001\u8bf7\u6c42\u7684\u5730\u65b9\uff0c\u4ee5\u53ca Authorization \u548c token \u751f\u6210\u7684\u903b\u8f91\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u9996\u5148\uff0c\u67e5\u770b ",(0,s.jsx)(n.code,{children:"/api.aspx"})," \u662f\u54ea\u91cc\u53d1\u9001\u51fa\u6765\u7684"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(40315).A+"",width:"2238",height:"562"})}),"\n",(0,s.jsx)(n.p,{children:"\u7136\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u6253\u4e0a\u65ad\u70b9\uff0c\u67e5\u627e\u53d1\u9001\u6570\u636e\u7684\u4ee3\u7801\u3002\u4f46\u662f\u8fd9\u91cc\u5e76\u4e0d\u662f\u62fc\u63a5\u6570\u636e\u7684\u5730\u65b9\u3002"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(17149).A+"",width:"2880",height:"1426"})}),"\n",(0,s.jsx)(n.p,{children:"\u5728 Call Stack \u8c03\u7528\u6808\u4e2d\uff0c\u4e0d\u65ad\u7684\u5411\u4e0a\u6392\u67e5\uff0c\u6700\u7ec8\u627e\u5230\u62fc\u63a5\u6570\u636e\u7684\u5730\u65b9\uff0c\u53ef\u4ee5\u770b\u51fa ajaxpost \u8fd9\u91cc\u662f\u771f\u6b63\u62fc\u63a5\u6570\u636e\u7684\u5730\u65b9\u3002"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(62862).A+"",width:"2234",height:"1366"})}),"\n",(0,s.jsxs)(n.p,{children:["\u5728\u8c03\u8bd5\u4e2d\uff0c\u627e\u5230\u4e86 ",(0,s.jsx)(n.code,{children:"form data"})," \u7684\u6570\u636e"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(4946).A+"",width:"2314",height:"1552"})}),"\n",(0,s.jsx)(n.p,{children:"\u627e\u5230\u4e86\u6570\u636e\u540e\uff0c\u624d\u53d1\u73b0\u771f\u6b63\u96be\u7684\u5730\u65b9\uff0c\u8fd9\u91cc\u7684 JavaScript \u4ee3\u7801\u90fd\u662f\u7ecf\u8fc7\u52a0\u5bc6\u7684\uff0c\u7531\u4e8e\u4e0d\u77e5\u9053\u51fd\u6570\u548c\u53d8\u91cf\u7684\u542b\u4e49\uff0c\u53bb\u7834\u89e3 token \u548c Authorization \u5b57\u6bb5\u65e0\u4ece\u4e0b\u624b\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u5982\u8fd9\u6bb5\u4ee3\u7801\uff0c\u53d8\u91cf\u540d\u90fd\u662f\u901a\u8fc7 ",(0,s.jsx)(n.code,{children:"_0x365d()"})," \u51fd\u6570\uff0c\u52a0\u5bc6\u8fc7\u4e86\uff0c\u53ea\u8981\u6211\u4eec\u7834\u89e3\u8fd9\u4e2a\u51fd\u6570\u5373\u53ef\u8fd8\u539f\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"'success': function(_0x4ce40a) {\n    var _0x1c6814 = {\n      'LrBHV': _0x365d('0x2e', 'OG@1'),\n      'nyVkE': _0x365d('0x2f', '[0Fm'),\n      'qsLdn': function _0x23683a(_0x46f029, _0x5eba10) {\n        return _0x46f029(_0x5eba10);\n      }\n    };\n    if (_0x365d('0x30', 'BQd]') !== _0x1c6814[_0x365d('0x31', 'OG@1')]) {\n      w[c](_0x1c6814[_0x365d('0x32', 'b8bF')]);\n    } else {\n      _0x3aca29 && _0x1c6814[_0x365d('0x33', 'xOX6')](_0x3aca29, _0x4ce40a);\n    }\n  }\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u4e0b\u9762\u6211\u4eec\u770b\u770b\u8fd9\u6bb5\u52a0\u5bc6\u4ee3\u7801\uff0c\u53d1\u73b0\u670970\u591a\u884c\uff0c\u624b\u52a8\u7834\u89e3\u592a\u8d39\u52b2\u4e86\u3002"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(52299).A+"",width:"1840",height:"1358"})}),"\n",(0,s.jsxs)(n.p,{children:["\u800c\u4e14\u901a\u8fc7 ",(0,s.jsx)(n.code,{children:"encode_version"})," \u53d1\u73b0\uff0c\u8fd9\u662f\u4f7f\u7528 jsjiami.com \u505a\u7684\u52a0\u5bc6\u3002"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(97798).A+"",width:"2622",height:"1380"})}),"\n",(0,s.jsx)(n.p,{children:"\u9996\u5148\uff0c\u8981\u5148\u628a js \u4ee3\u7801\u8c03\u8bd5\u51fa\u6765"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"var window = undefined; // \u56e0\u4e3a node.js \u6ca1\u6709 window\uff0c\u53ef\u4ee5\u5148\u81f3\u4e3a undefined\nvar encode_version = 'jsjiami.com.v5',\n\tnljdj = '__0xa3e63',\n\t__0xa3e63 = ['TURrcMKg', 'bMKywoIHdw==', ...];\n(function (_0x58a45a, _0x50ac96) {...}(__0xa3e63, 0x1dc));\nvar _0x365d = function (_0x5ce1df, _0x37ef48) {...};\n                                               \nconsole.log(_0x365d('0x22', 'G7RY')) //  \u8f93\u51fa BasicAuth                                   \n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u8fd9\u91cc\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"execjs"})," \u548c \u6b63\u5219\u8868\u8fbe\u5f0f \u53bb\u89e3\u6790 JavaScript \u6587\u4ef6"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import re, execjs\n\ndef callJsFunc(s, func=""):\n    """ \u8c03\u7528 js \u51fd\u6570"""\n    v1, v2 = s.group(1), s.group(2)\n    return "\'{}\'".format(ctx.eval(\'_0x365d(%s, %s)\' %(v1, v2)))\n\n# \u52a0\u5bc6\u7684 js \u6587\u4ef6\nwith open("customRequest.js", "r", encoding="utf-8") as fr:\n    raw_code = fr.read()\n    ctx = execjs.compile(raw_code)\n# \u6b63\u5219\u5339\u914d\u51fa\uff0c\u4e24\u4e2a\u8f93\u5165\u53c2\u6570\npattern = re.compile(r"_0x365d\\((\'.*?\'), (\'.*?\')\\)", re.S)\ntrans_code = re.sub(pattern, callJsFunc, raw_code)\n\n# \u8f93\u51fa\u89e3\u5bc6\u6587\u4ef6\nwith open(\'customRequest_trans.js\', \'w\', encoding="utf-8") as fw:\n    fw.write(trans_code)\n'})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["\u539f JavaScript \u6587\u4ef6\uff1a",(0,s.jsx)(n.a,{href:"https://github.com/PPsteven/manmanbuy_js_crack/blob/master/customRequest.js",children:"https://github.com/PPsteven/manmanbuy_js_crack/blob/master/customRequest.js"})]}),"\n",(0,s.jsxs)(n.p,{children:["\u7834\u89e3\u540e\u7684 JavaScript \u6587\u4ef6\uff1a",(0,s.jsx)(n.a,{href:"https://github.com/PPsteven/manmanbuy_js_crack/blob/master/customRequest_trans_%E8%BD%AC%E7%A0%81.js",children:"https://github.com/PPsteven/manmanbuy_js_crack/blob/master/customRequest_trans_%E8%BD%AC%E7%A0%81.js"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"token-\u53c2\u6570\u8fd8\u539f",children:"token \u53c2\u6570\u8fd8\u539f"}),"\n",(0,s.jsx)(n.p,{children:"\u7ffb\u8bd1\u7684 JavaScript \u4ee3\u7801"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"'getNewParam': function (_0x182946) { // \u4ee4 _0x182946 \u4e3a item\n        var _0x6318d4 = {\n            'XMcLK': function _0x53fadd(_0x53992b, _0x1be977) { \n                return _0x53992b !== _0x1be977;\n            },\n            'DCftw': 'QyP',\n            'rzOuq': 'WgI',\n            'NpXrl': function _0x1baebf(_0x37086b, _0x2b1ab6) { // \u4e0d\u7b49\u4e8e\n                return _0x37086b != _0x2b1ab6;\n            },\n            'XAMWs': function _0x3d56be(_0x2aa348, _0x2f1927) { // \u4e0d\u7b49\u4e8e\n                return _0x2aa348 != _0x2f1927;\n            },\n            'coWgu': function _0x384c4f(_0x34042d, _0x166417) { // \u76f8\u52a0\n                return _0x34042d + _0x166417;\n            },\n            'MDcDl': function _0x353cf4(_0x1134d4, _0xcc855d) { // \u51fd\u6570\u8c03\u7528\n                return _0x1134d4(_0xcc855d);\n            },\n            'cOInn': function _0x1e4877(_0x532487, _0x49bb94) { // \u76f8\u52a0\n                return _0x532487 + _0x49bb94;\n            }\n        };\n        that = this; \n        _0x182946['t'] = new Date()['valueOf'](); // \u83b7\u53d6\u5f53\u524d\u65f6\u95f4\u6233: item['t'] = 1608129001120\n        let _0x1a4f89 = Object['keys'](_0x182946)['sort'](); // \u6309\u7167 key \u6392\u5e8f: keys = item['keys'].sort()\n        let _0x3a63ba = {};\n        _0x1a4f89['forEach'](_0x138605 => {\n            var _0x50fa23 = { // \u65e0\u610f\u4e49\n                'XImOu': function _0xd5995c(_0x950655, _0x4002ed) {\n                    return _0x950655 !== _0x4002ed;\n                },\n                'vsytw': 'KaZ'\n            };\n            if (_0x50fa23['XImOu'](_0x50fa23['vsytw'], _0x50fa23['vsytw'])) { } else { \n                  // \u4e00\u5b9a\u662fFalse, \u6267\u884c\u672c\u884c\n                _0x3a63ba[_0x138605] = _0x182946[_0x138605]; // _0x182946 \u6309\u7167 key \u4f9d\u6b21\u8d4b\u503c\u5230 _0x3a63ba\uff1b\u4ee4 _0x3a63ba \u4e3a newItem\n            }\n        });\n  \t\t\t// forEach(key => keys) {\n  \t\t\t//\t\tnewItem[key] = item[key]\n        // }\n        var _0x4547db = that['secret'];\n        for (let _0x3c07c9 in _0x3a63ba) {\n            if (_0x6318d4['XMcLK']('QyP', 'WgI')) { // \u4e00\u5b9a\u662fTrue\n                // if data[key] != null && data[key] != ''\n                if (_0x6318d4['NpXrl'](_0x3a63ba[_0x3c07c9], null) && _0x6318d4['XAMWs'](_0x3a63ba[_0x3c07c9], '')) { \n                    // secret += urlencode(key) + urlencode(data[key])\n                    _0x4547db += _0x6318d4['coWgu'](_0x6318d4['MDcDl'](encodeURIComponent, _0x3c07c9), encodeURIComponent(_0x3a63ba[_0x3c07c9])); \n                }\n            } else {\n                date = _0x6318d4['cOInn']('0', date);\n            }\n        }\n        _0x4547db += that['secret']; // data += that['secret']\n        _0x4547db = _0x4547db['toUpperCase'](); // data.toUpperCase()\n        var _0x20fdfc = hex_md5(_0x4547db)['toUpperCase'](); // hex_md5(data)\n        _0x182946['token'] = _0x20fdfc;\n        return _0x182946;\n    }\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u4e0b\u9762\u662f\u7ffb\u8bd1\u7684 Python \u4ee3\u7801"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import time\nfrom urllib.parse import quote\nimport hashlib\nimport collections\n\npost_data = {\n    'method': 'getHistoryTrend',\n    'key': 'http://item.jd.hk/10429555538.html',\n    't': str(int(time.time() * 100000))[:13] # 13 \u4f4d\u65f6\u95f4\u6233\n}\npost_data = collections.OrderedDict( # \u6309\u7167 key \u6392\u5e8f\n    sorted(post_data.items(),\n           key=lambda x: x[0])\n)\n\n\nsecret = 'c5c3f201a8e8fc634d37a766a0299218' # secret \u4e0d\u53d8\ntoken = secret\nfor k, v in post_data.items():\n    token += quote(k, safe='') + quote(v, safe='') # Python \u9ed8\u8ba4\u4e0d\u8f6c\u4e49 //,\u8fd9\u4e2a\u5fc5\u987b\u5220\u6389\ntoken += secret\ntoken = token.upper() # \u8f6c\u6210\u5927\u5199\nm = hashlib.md5()\nm.update(token.encode('utf-8')) # \u751f\u6210 md5 \u7801\ntoken = m.hexdigest().upper()\npost_data['token'] = token # \u6dfb\u52a0 token \nprint(post_data)\n"})}),"\n",(0,s.jsx)(n.h2,{id:"authorization-\u7834\u89e3",children:"Authorization \u7834\u89e3"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"'beforeSend': function(_0x59ca01) {\n\t\t\t\tvar _0x467e2a = {\n\t\t\t\t\t'CZYVH': 'vBP',\n\t\t\t\t\t'suyCt': 'Authorization',\n\t\t\t\t\t'bLTRm': function _0x40c0f6(_0x326d84, _0xc7d8fa) {\n\t\t\t\t\t\treturn _0x326d84 + _0xc7d8fa;\n\t\t\t\t\t},\n\t\t\t\t\t'HCGmF': 'BasicAuth '\n\t\t\t\t};\n\t\t\t\tif (_0x467e2a['CZYVH'] === _0x467e2a['CZYVH']) {\n           // \u4e00\u5b9a\u6267\u884c\u672c\u884c\n\t\t\t\t\t_0x59ca01['setRequestHeader'](_0x467e2a['suyCt'], _0x467e2a['bLTRm'](_0x467e2a['HCGmF'], _0x1901a2['getTicket']()));\n\t\t\t\t\t// _0x59ca01['setRequestHeader']('Authorization', 'BasicAuth ' + this.getTicket())\n        } else {\n\t\t\t\t\t_0x59ca01['setRequestHeader'](_0x467e2a['suyCt'], _0x467e2a['bLTRm'](_0x467e2a['HCGmF'], _0x1901a2['getTicket']()));\n\t\t\t\t}\n\t\t\t}\n"})}),"\n",(0,s.jsx)(n.p,{children:"getTicket \u51fd\u6570"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"   ... \n   'secret': 'c5c3f201a8e8fc634d37a766a0299218',\n\t 'getTicket': function() {\n\t\tvar _0x3bc08f = {\n\t\t\t'ipeUV': function _0x5ef1ae(_0x41239c, _0x1e50a1) { // a(b)\n\t\t\t\treturn _0x41239c(_0x1e50a1);\n\t\t\t},\n\t\t\t'ZadZx': function _0x13f13f(_0x34a3cb, _0x22d7b9) { // a > b\n\t\t\t\treturn _0x34a3cb > _0x22d7b9;\n\t\t\t},\n\t\t\t'XDmmn': function _0x5cd9f2(_0x47ada5, _0x170387) { // a + b \n\t\t\t\treturn _0x47ada5 + _0x170387;\n\t\t\t},\n\t\t\t'HxAAK': function _0x18276a(_0x1835fa, _0x2d0f0b) { // a - b \n\t\t\t\treturn _0x1835fa - _0x2d0f0b;\n\t\t\t},\n\t\t\t'DLUkx': function _0x149149(_0x200e47, _0x1da274) { // a - b\n\t\t\t\treturn _0x200e47 - _0x1da274;\n\t\t\t}\n\t\t};\n\t\tvar _0x3f166f = _0x3bc08f['ipeUV']($, '#ticket')['val'](); // ticket = $(#ticket).val\n\t\tif (_0x3bc08f['ZadZx'](_0x3f166f['length'], 0x4)) {  // if len(ticket) > 4 \n       // ticket = substr[lenght(ticket) - 4, 4] + substr[0, length(ticket) - 4 ]\n\t\t\t_0x3f166f = _0x3bc08f['XDmmn'](_0x3f166f['substr'](_0x3bc08f['HxAAK'](_0x3f166f['length'], 0x4), 0x4), _0x3f166f['substring'](0x0, _0x3bc08f['DLUkx'](_0x3f166f['length'], 0x4)));\n\t\t}\n\t\treturn _0x3f166f;\n\t},\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u4e0a\u9762\u7684\u4ee3\u7801\u5c31\u5f88\u7b80\u5355"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u9996\u5148\u4ece ",(0,s.jsx)(n.a,{href:"http://tool.manmanbuy.com/HistoryLowest.aspx",children:"http://tool.manmanbuy.com/HistoryLowest.aspx"})," \u83b7\u53d6 ",(0,s.jsx)(n.code,{children:"#ticket"})," \u5143\u7d20\u7684\u503c"]}),"\n",(0,s.jsx)(n.li,{children:"ticket \u5411\u53f3\u5faa\u73af4\u4e2a\u5b57\u6bcd\uff0c\u5373abcdefgh \u53d8\u6210 efghabcd"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Python \u7ffb\u8bd1\u4ee3\u7801"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"def create_auth():\n    req = requests.get('http://tool.manmanbuy.com/HistoryLowest.aspx')\n    if req.status_code == 200:\n        history_price_html = req.text\n        searchRet = re.search(r'id=\"ticket\".+value=\"(?P<value>.+)\"', history_price_html)\n        if not searchRet:\n            return ''\n        ticket = searchRet.group('value')\n\n        return 'BasicAuth ' + ticket[-4:] + ticket[:-4]\n    return ''\n"})}),"\n",(0,s.jsx)(n.h2,{id:"github-\u4ed3\u5e93",children:"Github \u4ed3\u5e93"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://github.com/PPsteven/manmanbuy_js_crack",children:"manmanbuy_js_crack"})}),"\n",(0,s.jsx)(n.h2,{id:"\u53c2\u8003\u8d44\u6599",children:"\u53c2\u8003\u8d44\u6599"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://www.myitmx.com/96.html",children:"\u67d0 JS \u52a0\u5bc6\u9006\u5411\u8fd8\u539f\u7b80\u5355\u5206\u6790"})})]})}function l(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(x,{...e})}):x(e)}},67476:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/image-20210114113250055-49af14d2233675a4698759fcde573fe8.png"},40465:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/image-20210114131939821-02e73183613abb985f26b84dcfdc575d.png"},80098:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/image-20210114132139111-738f2d363c948cdf63b21dddd4268288.png"},25780:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/image-20210114134237228-4fd604484c3913e930388d46ccb60e41.png"},13884:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/image-20210114134630360-3ae322051c5f250ece5bef9d4390cc11.png"},83093:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/image-20210114142147404-02f5737739f61aadd668c62553bcfcae.png"},40315:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/image-20210114145805844-482d57c5e9f014263c9e9c8208ebcfc8.png"},17149:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/image-20210114150248508-845cd97f266285a7ac9f8bbe403093c2.png"},62862:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/image-20210114150718545-bd25679f8c524345c4cbba3855182e9a.png"},4946:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/image-20210114151327739-172fe3f6933e0debbf8e77c2266901e3.png"},52299:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/image-20210114152610556-141da02a99c94e0b8664ff6cd0e60728.png"},97798:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/image-20210114152900610-9d325a67b00cc58c4e389dbc5acca93d.png"},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>r});var s=t(96540);const c={},a=s.createContext(c);function i(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);